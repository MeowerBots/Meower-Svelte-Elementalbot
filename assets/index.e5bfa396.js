const Qn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}};Qn();function j(){}const Et=s=>s;function Vn(s,e){for(const t in e)s[t]=e[t];return s}function Xn(s){return s&&typeof s=="object"&&typeof s.then=="function"}function En(s){return s()}function nl(){return Object.create(null)}function se(s){s.forEach(En)}function at(s){return typeof s=="function"}function Q(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let gt;function ve(s,e){return gt||(gt=document.createElement("a")),gt.href=e,s===gt.href}function Zn(s){return Object.keys(s).length===0}function es(s,...e){if(s==null)return j;const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function A(s,e,t){s.$$.on_destroy.push(es(e,t))}function xt(s,e,t,l){if(s){const n=Mn(s,e,t,l);return s[0](n)}}function Mn(s,e,t,l){return s[1]&&l?Vn(t.ctx.slice(),s[1](l(e))):t.ctx}function Rt(s,e,t,l){if(s[2]&&l){const n=s[2](l(t));if(e.dirty===void 0)return n;if(typeof n=="object"){const r=[],a=Math.max(e.dirty.length,n.length);for(let i=0;i<a;i+=1)r[i]=e.dirty[i]|n[i];return r}return e.dirty|n}return e.dirty}function Nt(s,e,t,l,n,r){if(n){const a=Mn(e,t,l,r);s.p(a,n)}}function At(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function Y(s,e,t){return s.set(t),e}function In(s){return s&&at(s.destroy)?s.destroy:j}const Ln=typeof window!="undefined";let Wt=Ln?()=>window.performance.now():()=>Date.now(),Yt=Ln?s=>requestAnimationFrame(s):j;const Ve=new Set;function On(s){Ve.forEach(e=>{e.c(s)||(Ve.delete(e),e.f())}),Ve.size!==0&&Yt(On)}function Gt(s){let e;return Ve.size===0&&Yt(On),{promise:new Promise(t=>{Ve.add(e={c:s,f:t})}),abort(){Ve.delete(e)}}}function f(s,e){s.appendChild(e)}function Tn(s){if(!s)return document;const e=s.getRootNode?s.getRootNode():s.ownerDocument;return e&&e.host?e:s.ownerDocument}function ts(s){const e=_("style");return ls(Tn(s),e),e.sheet}function ls(s,e){f(s.head||s,e)}function w(s,e,t){s.insertBefore(e,t||null)}function $(s){s.parentNode.removeChild(s)}function Kt(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function _(s){return document.createElement(s)}function z(s){return document.createTextNode(s)}function S(){return z(" ")}function Ce(){return z("")}function x(s,e,t,l){return s.addEventListener(e,t,l),()=>s.removeEventListener(e,t,l)}function ge(s){return function(e){return e.preventDefault(),s.call(this,e)}}function d(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function ns(s){return Array.from(s.childNodes)}function G(s,e){e=""+e,s.wholeText!==e&&(s.data=e)}function Xe(s,e){s.value=e==null?"":e}function Ae(s,e,t,l){t===null?s.style.removeProperty(e):s.style.setProperty(e,t,l?"important":"")}function me(s,e,t){s.classList[t?"add":"remove"](e)}function xn(s,e,{bubbles:t=!1,cancelable:l=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(s,t,l,e),n}const Ct=new Map;let St=0;function ss(s){let e=5381,t=s.length;for(;t--;)e=(e<<5)-e^s.charCodeAt(t);return e>>>0}function rs(s,e){const t={stylesheet:ts(e),rules:{}};return Ct.set(s,t),t}function qt(s,e,t,l,n,r,a,i=0){const o=16.666/l;let c=`{
`;for(let g=0;g<=1;g+=o){const k=e+(t-e)*r(g);c+=g*100+`%{${a(k,1-k)}}
`}const u=c+`100% {${a(t,1-t)}}
}`,p=`__svelte_${ss(u)}_${i}`,m=Tn(s),{stylesheet:h,rules:v}=Ct.get(m)||rs(m,s);v[p]||(v[p]=!0,h.insertRule(`@keyframes ${p} ${u}`,h.cssRules.length));const b=s.style.animation||"";return s.style.animation=`${b?`${b}, `:""}${p} ${l}ms linear ${n}ms 1 both`,St+=1,p}function Jt(s,e){const t=(s.style.animation||"").split(", "),l=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),n=t.length-l.length;n&&(s.style.animation=l.join(", "),St-=n,St||os())}function os(){Yt(()=>{St||(Ct.forEach(s=>{const{stylesheet:e}=s;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);s.rules={}}),Ct.clear())})}function ct(s,e,t,l){if(!e)return j;const n=s.getBoundingClientRect();if(e.left===n.left&&e.right===n.right&&e.top===n.top&&e.bottom===n.bottom)return j;const{delay:r=0,duration:a=300,easing:i=Et,start:o=Wt()+r,end:c=o+a,tick:u=j,css:p}=t(s,{from:e,to:n},l);let m=!0,h=!1,v;function b(){p&&(v=qt(s,0,1,a,r,i,p)),r||(h=!0)}function g(){p&&Jt(s,v),m=!1}return Gt(k=>{if(!h&&k>=o&&(h=!0),h&&k>=c&&(u(1,0),g()),!m)return!1;if(h){const y=k-o,E=0+1*i(y/a);u(E,1-E)}return!0}),b(),u(0,1),g}function ut(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:l}=e,n=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=l,Ze(s,n)}}function Ze(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const l=getComputedStyle(s),n=l.transform==="none"?"":l.transform;s.style.transform=`${n} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let it;function Ie(s){it=s}function Mt(){if(!it)throw new Error("Function called outside component initialization");return it}function Ft(s){Mt().$$.on_mount.push(s)}function is(s){Mt().$$.on_destroy.push(s)}function as(){const s=Mt();return(e,t,{cancelable:l=!1}={})=>{const n=s.$$.callbacks[e];if(n){const r=xn(e,t,{cancelable:l});return n.slice().forEach(a=>{a.call(s,r)}),!r.defaultPrevented}return!0}}const st=[],De=[],$t=[],sl=[],Rn=Promise.resolve();let Ut=!1;function Nn(){Ut||(Ut=!0,Rn.then(Qt))}function we(){return Nn(),Rn}function Se(s){$t.push(s)}const Lt=new Set;let ht=0;function Qt(){const s=it;do{for(;ht<st.length;){const e=st[ht];ht++,Ie(e),cs(e.$$)}for(Ie(null),st.length=0,ht=0;De.length;)De.pop()();for(let e=0;e<$t.length;e+=1){const t=$t[e];Lt.has(t)||(Lt.add(t),t())}$t.length=0}while(st.length);for(;sl.length;)sl.pop()();Ut=!1,Lt.clear(),Ie(s)}function cs(s){if(s.fragment!==null){s.update(),se(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Se)}}let nt;function An(){return nt||(nt=Promise.resolve(),nt.then(()=>{nt=null})),nt}function rt(s,e,t){s.dispatchEvent(xn(`${e?"intro":"outro"}${t}`))}const wt=new Set;let Pe;function te(){Pe={r:0,c:[],p:Pe}}function le(){Pe.r||se(Pe.c),Pe=Pe.p}function C(s,e){s&&s.i&&(wt.delete(s),s.i(e))}function q(s,e,t,l){if(s&&s.o){if(wt.has(s))return;wt.add(s),Pe.c.push(()=>{wt.delete(s),l&&(t&&s.d(1),l())}),s.o(e)}else l&&l()}const Un={duration:0};function Dn(s,e,t){let l=e(s,t),n=!0,r;const a=Pe;a.r+=1;function i(){const{delay:o=0,duration:c=300,easing:u=Et,tick:p=j,css:m}=l||Un;m&&(r=qt(s,1,0,c,o,u,m));const h=Wt()+o,v=h+c;Se(()=>rt(s,!1,"start")),Gt(b=>{if(n){if(b>=v)return p(0,1),rt(s,!1,"end"),--a.r||se(a.c),!1;if(b>=h){const g=u((b-h)/c);p(1-g,g)}}return n})}return at(l)?An().then(()=>{l=l(),i()}):i(),{end(o){o&&l.tick&&l.tick(1,0),n&&(r&&Jt(s,r),n=!1)}}}function ye(s,e,t,l){let n=e(s,t),r=l?0:1,a=null,i=null,o=null;function c(){o&&Jt(s,o)}function u(m,h){const v=m.b-r;return h*=Math.abs(v),{a:r,b:m.b,d:v,duration:h,start:m.start,end:m.start+h,group:m.group}}function p(m){const{delay:h=0,duration:v=300,easing:b=Et,tick:g=j,css:k}=n||Un,y={start:Wt()+h,b:m};m||(y.group=Pe,Pe.r+=1),a||i?i=y:(k&&(c(),o=qt(s,r,m,v,h,b,k)),m&&g(0,1),a=u(y,v),Se(()=>rt(s,m,"start")),Gt(E=>{if(i&&E>i.start&&(a=u(i,v),i=null,rt(s,a.b,"start"),k&&(c(),o=qt(s,r,a.b,a.duration,0,b,n.css))),a){if(E>=a.end)g(r=a.b,1-r),rt(s,a.b,"end"),i||(a.b?c():--a.group.r||se(a.group.c)),a=null;else if(E>=a.start){const P=E-a.start;r=a.a+a.d*b(P/a.duration),g(r,1-r)}}return!!(a||i)}))}return{run(m){at(n)?An().then(()=>{n=n(),p(m)}):p(m)},end(){c(),a=i=null}}}function Ye(s,e){const t=e.token={};function l(n,r,a,i){if(e.token!==t)return;e.resolved=i;let o=e.ctx;a!==void 0&&(o=o.slice(),o[a]=i);const c=n&&(e.current=n)(o);let u=!1;e.block&&(e.blocks?e.blocks.forEach((p,m)=>{m!==r&&p&&(te(),q(p,1,1,()=>{e.blocks[m]===p&&(e.blocks[m]=null)}),le())}):e.block.d(1),c.c(),C(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[r]=c),u&&Qt()}if(Xn(s)){const n=Mt();if(s.then(r=>{Ie(n),l(e.then,1,e.value,r),Ie(null)},r=>{if(Ie(n),l(e.catch,2,e.error,r),Ie(null),!e.hasCatch)throw r}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,s),!0;e.resolved=s}}function et(s,e,t){const l=e.slice(),{resolved:n}=s;s.current===s.then&&(l[s.value]=n),s.current===s.catch&&(l[s.error]=n),s.block.p(l,t)}function us(s,e){q(s,1,1,()=>{e.delete(s.key)})}function ft(s,e){s.f(),us(s,e)}function dt(s,e,t,l,n,r,a,i,o,c,u,p){let m=s.length,h=r.length,v=m;const b={};for(;v--;)b[s[v].key]=v;const g=[],k=new Map,y=new Map;for(v=h;v--;){const M=p(n,r,v),T=t(M);let U=a.get(T);U?l&&U.p(M,e):(U=c(T,M),U.c()),k.set(T,g[v]=U),T in b&&y.set(T,Math.abs(v-b[T]))}const E=new Set,P=new Set;function R(M){C(M,1),M.m(i,u),a.set(M.key,M),u=M.first,h--}for(;m&&h;){const M=g[h-1],T=s[m-1],U=M.key,N=T.key;M===T?(u=M.first,m--,h--):k.has(N)?!a.has(U)||E.has(U)?R(M):P.has(N)?m--:y.get(U)>y.get(N)?(P.add(U),R(M)):(E.add(N),m--):(o(T,a),m--)}for(;m--;){const M=s[m];k.has(M.key)||o(M,a)}for(;h;)R(g[h-1]);return g}function O(s){s&&s.c()}function I(s,e,t,l){const{fragment:n,on_mount:r,on_destroy:a,after_update:i}=s.$$;n&&n.m(e,t),l||Se(()=>{const o=r.map(En).filter(at);a?a.push(...o):se(o),s.$$.on_mount=[]}),i.forEach(Se)}function L(s,e){const t=s.$$;t.fragment!==null&&(se(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function fs(s,e){s.$$.dirty[0]===-1&&(st.push(s),Nn(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function X(s,e,t,l,n,r,a,i=[-1]){const o=it;Ie(s);const c=s.$$={fragment:null,ctx:null,props:r,update:j,not_equal:n,bound:nl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:nl(),dirty:i,skip_bound:!1,root:e.target||o.$$.root};a&&a(c.root);let u=!1;if(c.ctx=t?t(s,e.props||{},(p,m,...h)=>{const v=h.length?h[0]:m;return c.ctx&&n(c.ctx[p],c.ctx[p]=v)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](v),u&&fs(s,p)),m}):[],c.update(),u=!0,se(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const p=ns(e.target);c.fragment&&c.fragment.l(p),p.forEach($)}else c.fragment&&c.fragment.c();e.intro&&C(s.$$.fragment),I(s,e.target,e.anchor,e.customElement),Qt()}Ie(o)}class Z{$destroy(){L(this,1),this.$destroy=j}$on(e,t){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const n=l.indexOf(t);n!==-1&&l.splice(n,1)}}$set(e){this.$$set&&!Zn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Qe=[];function ae(s,e=j){let t;const l=new Set;function n(i){if(Q(s,i)&&(s=i,t)){const o=!Qe.length;for(const c of l)c[1](),Qe.push(c,s);if(o){for(let c=0;c<Qe.length;c+=2)Qe[c][0](Qe[c+1]);Qe.length=0}}}function r(i){n(i(s))}function a(i,o=j){const c=[i,o];return l.add(c),l.size===1&&(t=e(n)||j),i(s),()=>{l.delete(c),l.size===0&&(t(),t=null)}}return{set:n,update:r,subscribe:a}}const Le=ae("start_s"),fe=ae("home"),_e=ae("logo"),D=ae(!1),ue=ae(""),Me=ae(!1),ot=ae(""),jt=ae(0),We=ae(""),$e=ae(""),Ge=ae([]),Dt=ae(""),Oe=ae([]),Pt=ae({}),Ke=ae(""),Vt=ae(""),Je=ae({}),re=ae({name:null,lvl:0,unread_inbox:!1,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:2,layout:"new",pfp_data:1,quote:""}),Be=ae(!1);window.onkeydown=function(s){s||(s=window.event),Fe=s.shiftKey};window.onkeyup=function(s){s||(s=window.event),Fe=s.shiftKey};window.onmousemove=function(s){s||(s=window.event),Fe=s.shiftKey};let Fe;function ds(){var s=new Audio("../src/assets/theme.mp3");s.loop=!0,s.play()}function rl(){ds()}function ps(s){let e,t;const l=s[1].default,n=xt(l,s,s[0],null);return{c(){e=_("div"),n&&n.c(),d(e,"class","svelte-6zv9mh")},m(r,a){w(r,e,a),n&&n.m(e,null),t=!0},p(r,[a]){n&&n.p&&(!t||a&1)&&Nt(n,l,r,r[0],t?Rt(l,r[0],a,null):At(r[0]),null)},i(r){t||(C(n,r),t=!0)},o(r){q(n,r),t=!1},d(r){r&&$(e),n&&n.d(r)}}}function ms(s,e,t){let{$$slots:l={},$$scope:n}=e;return s.$$set=r=>{"$$scope"in r&&t(0,n=r.$$scope)},[n,l]}class oe extends Z{constructor(e){super(),X(this,e,ms,ps,Q,{})}}var ol="./assets/icon_0.ab82a5ad.svg",il="./assets/icon_1.3649891f.svg",al="./assets/icon_10.4bd3e33c.svg",cl="./assets/icon_100.026e1a7d.svg",ul="./assets/icon_101.0a8d8a50.svg",fl="./assets/icon_11.521812d2.svg",dl="./assets/icon_12.0f7ed126.svg",pl="./assets/icon_13.58e2dcbb.svg",ml="./assets/icon_14.6513f659.svg",_l="./assets/icon_15.d1b06a28.svg",gl="./assets/icon_16.e5e55f53.svg",hl="./assets/icon_17.39e35340.svg",vl="./assets/icon_18.dc1f4b4e.svg",bl="./assets/icon_19.8ad18d14.svg",kl="./assets/icon_2.03a60034.svg",$l="./assets/icon_20.d1301d19.svg",wl="./assets/icon_21.2ef6b9a3.svg",yl="./assets/icon_22.c642b6ff.svg",Cl="./assets/icon_23.cd7c45d1.svg",Sl="./assets/icon_24.6026f708.svg",ql="./assets/icon_25.cc78b147.svg",jl="./assets/icon_26.1722b6b8.svg",Pl="./assets/icon_27.89761f19.svg",zl="./assets/icon_3.79effa11.svg",El="./assets/icon_4.078d1185.svg",Ml="./assets/icon_5.656d31e0.svg",Il="./assets/icon_6.d72d5ba2.svg",Ll="./assets/icon_7.16e301c0.svg",Ol="./assets/icon_8.515d5ae7.svg",Tl="./assets/icon_9.25c74dcc.svg",xl="./assets/icon_err.8c194397.svg";function Rl(s){let e;return{c(){e=_("span"),d(e,"class","online svelte-is4478")},m(t,l){w(t,e,l)},d(t){t&&$(e)}}}function _s(s){let e,t,l,n,r,a,i,o=s[2]&&Rl();return{c(){e=_("span"),o&&o.c(),t=S(),l=_("span"),n=_("img"),d(n,"alt",s[1]),d(n,"title",s[1]),ve(n.src,r=new URL({"./../assets/avatars/icon_0.svg":ol,"./../assets/avatars/icon_1.svg":il,"./../assets/avatars/icon_10.svg":al,"./../assets/avatars/icon_100.svg":cl,"./../assets/avatars/icon_101.svg":ul,"./../assets/avatars/icon_11.svg":fl,"./../assets/avatars/icon_12.svg":dl,"./../assets/avatars/icon_13.svg":pl,"./../assets/avatars/icon_14.svg":ml,"./../assets/avatars/icon_15.svg":_l,"./../assets/avatars/icon_16.svg":gl,"./../assets/avatars/icon_17.svg":hl,"./../assets/avatars/icon_18.svg":vl,"./../assets/avatars/icon_19.svg":bl,"./../assets/avatars/icon_2.svg":kl,"./../assets/avatars/icon_20.svg":$l,"./../assets/avatars/icon_21.svg":wl,"./../assets/avatars/icon_22.svg":yl,"./../assets/avatars/icon_23.svg":Cl,"./../assets/avatars/icon_24.svg":Sl,"./../assets/avatars/icon_25.svg":ql,"./../assets/avatars/icon_26.svg":jl,"./../assets/avatars/icon_27.svg":Pl,"./../assets/avatars/icon_3.svg":zl,"./../assets/avatars/icon_4.svg":El,"./../assets/avatars/icon_5.svg":Ml,"./../assets/avatars/icon_6.svg":Il,"./../assets/avatars/icon_7.svg":Ll,"./../assets/avatars/icon_8.svg":Ol,"./../assets/avatars/icon_9.svg":Tl,"./../assets/avatars/icon_err.svg":xl}[`./../assets/avatars/icon_${s[0]===-1?21:s[0]===-2?"err":s[0]-1}.svg`],self.location).href)||d(n,"src",r),d(n,"draggable",!1),d(n,"width","auto"),d(n,"height","100%"),d(n,"class","svelte-is4478"),me(n,"loading",s[0]===-1),d(l,"class","pfp svelte-is4478"),d(e,"class","pfp-container svelte-is4478"),Ae(e,"--size",s[3],!1)},m(c,u){w(c,e,u),o&&o.m(e,null),f(e,t),f(e,l),f(l,n),a||(i=x(n,"error",s[4],{once:!0}),a=!0)},p(c,[u]){c[2]?o||(o=Rl(),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u&2&&d(n,"alt",c[1]),u&2&&d(n,"title",c[1]),u&1&&!ve(n.src,r=new URL({"./../assets/avatars/icon_0.svg":ol,"./../assets/avatars/icon_1.svg":il,"./../assets/avatars/icon_10.svg":al,"./../assets/avatars/icon_100.svg":cl,"./../assets/avatars/icon_101.svg":ul,"./../assets/avatars/icon_11.svg":fl,"./../assets/avatars/icon_12.svg":dl,"./../assets/avatars/icon_13.svg":pl,"./../assets/avatars/icon_14.svg":ml,"./../assets/avatars/icon_15.svg":_l,"./../assets/avatars/icon_16.svg":gl,"./../assets/avatars/icon_17.svg":hl,"./../assets/avatars/icon_18.svg":vl,"./../assets/avatars/icon_19.svg":bl,"./../assets/avatars/icon_2.svg":kl,"./../assets/avatars/icon_20.svg":$l,"./../assets/avatars/icon_21.svg":wl,"./../assets/avatars/icon_22.svg":yl,"./../assets/avatars/icon_23.svg":Cl,"./../assets/avatars/icon_24.svg":Sl,"./../assets/avatars/icon_25.svg":ql,"./../assets/avatars/icon_26.svg":jl,"./../assets/avatars/icon_27.svg":Pl,"./../assets/avatars/icon_3.svg":zl,"./../assets/avatars/icon_4.svg":El,"./../assets/avatars/icon_5.svg":Ml,"./../assets/avatars/icon_6.svg":Il,"./../assets/avatars/icon_7.svg":Ll,"./../assets/avatars/icon_8.svg":Ol,"./../assets/avatars/icon_9.svg":Tl,"./../assets/avatars/icon_err.svg":xl}[`./../assets/avatars/icon_${c[0]===-1?21:c[0]===-2?"err":c[0]-1}.svg`],self.location).href)&&d(n,"src",r),u&1&&me(n,"loading",c[0]===-1),u&8&&Ae(e,"--size",c[3],!1)},i:j,o:j,d(c){c&&$(e),o&&o.d(),a=!1,i()}}}function gs(s,e,t){let{icon:l=-1}=e,{alt:n="Profile picture"}=e,{online:r=!1}=e,{size:a=1}=e;const i=()=>t(0,l=-2);return s.$$set=o=>{"icon"in o&&t(0,l=o.icon),"alt"in o&&t(1,n=o.alt),"online"in o&&t(2,r=o.online),"size"in o&&t(3,a=o.size)},[l,n,r,a,i]}class tt extends Z{constructor(e){super(),X(this,e,gs,_s,Q,{icon:0,alt:1,online:2,size:3})}}function hs(s){let e,t;return{c(){e=_("span"),t=z(s[0]),d(e,"title",s[1]),d(e,"class","date svelte-190wm28")},m(l,n){w(l,e,n),f(e,t)},p(l,[n]){n&1&&G(t,l[0]),n&2&&d(e,"title",l[1])},i:j,o:j,d(l){l&&$(e)}}}function vs(s,e,t){let{date:l=0}=e,n,r;return s.$$set=a=>{"date"in a&&t(2,l=a.date)},s.$$.update=()=>{if(s.$$.dirty&4){const a=new Date(l*1e3);t(0,n=a.toLocaleString()),t(1,r=`Time is in your local timezone (UTC+${-(a.getTimezoneOffset()/60)}).
12-hour time: ${a.toLocaleString([],{hourCycle:"h11"})}
24-hour time: ${a.toLocaleString([],{hourCycle:"h23"})}
ISO: ${a.toISOString()}`)}},[n,r,l]}class bs extends Z{constructor(e){super(),X(this,e,vs,hs,Q,{date:2})}}function He(s){return new Promise(e=>setTimeout(e,s))}const ks=localStorage.getItem("meower_linkurl")||"wss://api.meower.org/v0/cloudlink/",Te=localStorage.getItem("meower_apiurl")||"https://api.meower.org/",pt=localStorage.getItem("meower_encodeapi")||!1;class $s{constructor(e){return this.events={},this._numevents=1,this.ip=null,e&&this.connect(e),this}_console(e,t,l){const n=Array.from(arguments).slice(2),r="%o".repeat(n.length);console[e](`%cCLJS%c${t}%c ${r}`,"background:#0fbd8c;color:white;font-weight:bold;border-radius:4px 0 0 4px;padding:0 3px;display:inline-block","background:#000;color:white;font-weight:bold;border-radius:0 4px 4px 0;padding:0 3px;display:inline-block","",...n)}log(e,t){this._console.apply(this,["log",...arguments])}warn(e,t){this._console.apply(this,["warn",...arguments])}error(e,t){this._console.apply(this,["error",...arguments])}connect(e){return new Promise((t,l)=>{try{this.ws&&this.ws.readyState===1&&(this.log("connection","already connected, disconnecting..."),this.disconnect(1e3,"Intentional disconnect")),this.ws=new WebSocket(e),this.emit("connectionstart"),this.ws.addEventListener("open",async()=>{try{this.log("connection","connected to websockets");const n=localStorage.getItem("meower_ip");n||n===""?this.ip=n:this.ip=await(await fetch(Te+"ip")).text(),this.send({cmd:"direct",val:{cmd:"ip",val:this.ip}}),await He(100),this.send({cmd:"direct",val:{cmd:"type",val:"js"},listener:"send_type"});const r=this.sendListener({cmd:"direct",val:"meower",listener:"send_tkey"},a=>{a.cmd==="statuscode"&&(this.off(r),a.val==="I:100 | OK"?(t(),this.log("connection","successfully connected")):(l(a.val),this.error("connection","error connecting; code:",a.val)))});this.emit("connected")}catch(n){this.error("connection","error connecting:",n),l(n)}}),this.ws.addEventListener("message",n=>{const r=JSON.parse(n.data);this.log("< incoming",r);try{typeof r.val=="string"&&(r.val=JSON.parse(r.val),this.log("< incoming (edited)",r))}catch{}this.emit(r.cmd,r),r.listener&&this.emit("__listener_"+r.listener,r)}),this.ws.addEventListener("close",n=>{this.log("connection","disconnected with code ",n.code," and reason",n.reason),this.emit("disconnected",n)}),this.ws.addEventListener("error",n=>{this.error("connection","error:",n),this.emit("error",n)})}catch(n){l(n)}})}send(e){if(!this.ws||this.ws.readyState!==1)throw new Error("Not connected; use link.connect(server) to connect");this.log("> outgoing",e),this.ws.send(JSON.stringify(e))}sendListener(e,t){if(!e.listener)throw new Error("data must have a listener");return this.send(e),this.onListener(e.listener,t)}on(e,t){this._numevents++;const l=(this._numevents-1).toString();return this.events[l]={event:e,cb:t},l}onListener(e,t){return this.on("__listener_"+e,t)}off(e){if(!this.events[e])throw new Error("Tried to remove nonexistent listener");delete this.events[e]}once(e,t){const l=this.on(e,()=>{t(arguments),this.off(l)})}emit(e,t){Object.values(this.events).forEach(l=>{l.event===e&&l.cb(t)})}disconnect(e,t){!this.ws||this.ws.readyState!==1||(console.log(e,t),this.ws.close(e,t))}}function Xt(){return{name:null,theme:"orange",mode:!0,sfx:!0,bgm:!0,bgm_song:2,layout:"new",pfp_data:1,quote:""}}let ze=null;re.subscribe(s=>{ze=s,ze.name&&localStorage.setItem("meower_savedconfig",JSON.stringify({theme:ze.theme,mode:ze.mode}))});if(localStorage.getItem("meower_savedconfig")){const s=ze,e=JSON.parse(localStorage.getItem("meower_savedconfig"));s.theme=e.theme,s.mode=e.mode,re.set(s)}const W=new $s;window.cljs=W;W.log("manager","started");let Ot=null,Ne=null,vt=null,bt=null,kt=null,qe=null;async function Bn(){Ot&&(W.off(Ot),Ne=null),Ne&&(W.off(Ne),Ne=null),vt&&(W.off(vt),vt=null),bt&&(W.off(bt),bt=null),kt&&(W.off(kt),kt=null),qe&&(clearInterval(qe),qe=null),Me.set(!1),ot.set(""),W.once("connectionstart",()=>{Ot=W.on("connected",()=>{Me.set(!1),qe=setInterval(()=>{W.send({cmd:"ping",val:""})},1e4)}),Ne=W.on("disconnected",s=>{Oe.set([]),s.reason!=="Intentional disconnect"&&Me.set(!0);let e=Xt();e.theme=ze.theme,e.mode=ze.mode,re.set(e),qe&&(clearInterval(qe),qe=null)}),vt=W.on("ulist",s=>{const e=s.val.split(";");e[e.length-1]===""&&e.pop(),Oe.set(e)}),bt=W.on("direct",s=>{s.val.mode=="inbox_message"&&(ze.unread_inbox=!0,re.set(ze))}),kt=W.on("direct",s=>{(s.val=="E:018 | Account Banned"||s.val=="E:020 | Kicked"||s.val=="E:110 | ID conflict"||s.val=="E:119 | IP Blocked")&&(W.disconnect(),ot.set(s.val),Me.set(!0),W.log("manager","requested disconnect:",s.val))})}),Me.set(!1);try{return await W.connect(ks)}catch(s){return W.disconnect(),ot.set(s),Me.set(!0),W.error("manager","conenction error:",s),s}}async function Bt(){return W.ws?W.ws.readyState!==1?(W.log("manager","already disconnected or disconnecting, cancelling safe disconnect"),new Promise(s=>s())):(W.log("manager","safely disconnecting"),new Promise(s=>{Oe.set([]),re.set(Xt()),Ne&&(W.off(Ne),Ne=null),qe&&(clearInterval(qe),qe=null),W.once("disconnected",s),W.disconnect(1e3,"Intentional disconnect")})):(W.log("manager","websocket not present, cancelling safe disconnect"),new Promise(s=>s()))}async function ie(s){return W.log("manager","meower request",s),Be.set(!0),new Promise((e,t)=>{let l=null;const n=setTimeout(()=>{t("Timed out"),Be.set(!1)},1e4),r=W.sendListener({...s,listener:"listener_"+Math.floor(Math.random()*1e7)},a=>{a.cmd==="statuscode"?(W.off(r),Be.set(!1),clearTimeout(n),a.val==="I:100 | OK"?e(l):t(a.val)):a.cmd==="direct"&&(l=a.val)})})}async function Ue(){const s=ze;return ie({cmd:"direct",val:{cmd:"update_config",val:{unread_inbox:s.unread_inbox,theme:s.theme,mode:s.mode,sfx:s.sfx,bgm:s.bgm,bgm_song:s.bgm_song,layout:s.layout,pfp_data:s.pfp_data,quote:s.quote}}})}var ws=Object.freeze(Object.defineProperty({__proto__:null,link:W,connect:Bn,disconnect:Bt,meowerRequest:ie,updateProfile:Ue},Symbol.toStringTag,{value:"Module"}));const je=ae({});let de;je.subscribe(s=>de=s);async function zt(s){if(de[s]&&!de[s].temporary)return de[s];if(s==="Notification")return de[s]={pfp_data:101},je.set(de),de[s];if(s==="Announcement")return de[s]={pfp_data:102},je.set(de),de[s];if(s==="Server")return de[s]={pfp_data:102},je.set(de),de[s];de[s]={pfp_data:-1},je.set(de);try{const e=await fetch(`${Te}/users/${s}`);if(!e.ok)throw new Error("response code not OK; code "+e.status);const t=await e.json();de[s]=t,je.set(de)}catch(e){throw console.log(e),de[s]={error:!0,pfp_data:-2,temporary:!0},je.set(de),e}return de[s]}function Nl(s){let e,t,l=s[1]&&s[0].user!=="Notification"&&s[0].user!=="Announcement"&&Al(s);function n(i,o){return i[4].lvl>=1||i[0].user===i[4].name?Cs:ys}let r=n(s),a=r(s);return{c(){l&&l.c(),e=S(),a.c(),t=Ce()},m(i,o){l&&l.m(i,o),w(i,e,o),a.m(i,o),w(i,t,o)},p(i,o){i[1]&&i[0].user!=="Notification"&&i[0].user!=="Announcement"?l?l.p(i,o):(l=Al(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),r===(r=n(i))&&a?a.p(i,o):(a.d(1),a=r(i),a&&(a.c(),a.m(t.parentNode,t)))},d(i){l&&l.d(i),i&&$(e),a.d(i),i&&$(t)}}}function Al(s){let e,t,l;return{c(){e=_("button"),d(e,"class","circle join svelte-r298n5")},m(n,r){w(n,e,r),t||(l=x(e,"click",s[8]),t=!0)},p:j,d(n){n&&$(e),t=!1,l()}}}function ys(s){let e,t,l;return{c(){e=_("button"),d(e,"class","circle report svelte-r298n5")},m(n,r){w(n,e,r),t||(l=x(e,"click",s[10]),t=!0)},p:j,d(n){n&&$(e),t=!1,l()}}}function Cs(s){let e,t,l;return{c(){e=_("button"),d(e,"class","circle close svelte-r298n5")},m(n,r){w(n,e,r),t||(l=x(e,"click",s[9]),t=!0)},p:j,d(n){n&&$(e),t=!1,l()}}}function Ul(s){let e;return{c(){e=_("i"),e.textContent="[BRIDGED]"},m(t,l){w(t,e,l)},d(t){t&&$(e)}}}function Ss(s){let e,t,l,n,r,a,i,o,c=s[0].user+"",u,p,m,h,v,b,g=s[0].content+"",k,y,E,P,R=s[2]&&s[4].name&&s[5]!=="livechat"&&s[0].user!=="Server"&&Nl(s);r=new tt({props:{icon:s[6][s[0].user]?s[6][s[0].user].pfp_data:-3,alt:s[0].user+"'s profile picture",online:s[7].includes(s[0].user)}}),m=new bs({props:{date:s[0].date}});let M=s[3]&&Ul();return{c(){e=_("div"),t=_("div"),R&&R.c(),l=S(),n=_("button"),O(r.$$.fragment),a=S(),i=_("div"),o=_("h2"),u=z(c),p=S(),O(m.$$.fragment),h=S(),M&&M.c(),v=S(),b=_("p"),k=z(g),d(t,"class","settings-controls svelte-r298n5"),d(n,"class","pfp svelte-r298n5"),d(o,"class","creator svelte-r298n5"),d(i,"class","creator svelte-r298n5"),d(e,"class","post-header svelte-r298n5"),d(b,"class","post-content svelte-r298n5")},m(T,U){w(T,e,U),f(e,t),R&&R.m(t,null),f(e,l),f(e,n),I(r,n,null),f(e,a),f(e,i),f(i,o),f(o,u),f(i,p),I(m,i,null),f(i,h),M&&M.m(i,null),w(T,v,U),w(T,b,U),f(b,k),y=!0,E||(P=x(n,"click",s[11]),E=!0)},p(T,U){T[2]&&T[4].name&&T[5]!=="livechat"&&T[0].user!=="Server"?R?R.p(T,U):(R=Nl(T),R.c(),R.m(t,null)):R&&(R.d(1),R=null);const N={};U&65&&(N.icon=T[6][T[0].user]?T[6][T[0].user].pfp_data:-3),U&1&&(N.alt=T[0].user+"'s profile picture"),U&129&&(N.online=T[7].includes(T[0].user)),r.$set(N),(!y||U&1)&&c!==(c=T[0].user+"")&&G(u,c);const V={};U&1&&(V.date=T[0].date),m.$set(V),T[3]?M||(M=Ul(),M.c(),M.m(i,null)):M&&(M.d(1),M=null),(!y||U&1)&&g!==(g=T[0].content+"")&&G(k,g)},i(T){y||(C(r.$$.fragment,T),C(m.$$.fragment,T),y=!0)},o(T){q(r.$$.fragment,T),q(m.$$.fragment,T),y=!1},d(T){T&&$(e),R&&R.d(),L(r),L(m),M&&M.d(),T&&$(v),T&&$(b),E=!1,P()}}}function qs(s){let e,t;return e=new oe({props:{$$slots:{default:[Ss]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&8447&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function js(s,e,t){let l,n,r,a;A(s,re,g=>t(4,l=g)),A(s,$e,g=>t(5,n=g)),A(s,je,g=>t(6,r=g)),A(s,Oe,g=>t(7,a=g));let{post:i={}}=e,{buttons:o=!0}=e,{input:c=null}=e,u=!1;function p(){!i.user||(i.user=="Discord"&&i.content.includes(":")&&t(3,u=!0),i.user=="Discord"&&i.content.includes(":")&&(t(0,i.user=i.content.split(": ")[0],i),t(0,i.content=i.content.slice(i.content.indexOf(": ")+1),i)),zt(i.user))}Ft(p);const m=()=>{let g=c.value;const k=/^@\w+\s*/i,y="@"+i.user+" ";k.test(g)?t(1,c.value=g.trim().replace(k,y),c):t(1,c.value=y+g.trim(),c),c.focus()},h=()=>{if(Fe){ie({cmd:"direct",val:{cmd:"delete_post",val:i.post_id}});return}Pt.set(i),ue.set("deletePost"),D.set(!0)},v=()=>{Pt.set(i),ue.set("reportPost"),D.set(!0)},b=()=>{i.user==="Notification"||i.user==="Announcement"||i.user==="Server"||(Ke.set(i.user),fe.set("profile"))};return s.$$set=g=>{"post"in g&&t(0,i=g.post),"buttons"in g&&t(2,o=g.buttons),"input"in g&&t(1,c=g.input)},[i,c,o,u,l,n,r,a,m,h,v,b]}class lt extends Z{constructor(e){super(),X(this,e,js,qs,Q,{post:0,buttons:2,input:1})}}function Ps(s){let e;return{c(){e=_("span"),e.innerHTML='<span class="circle circle1 svelte-idse3p"></span><span class="circle circle2 svelte-idse3p"></span><span class="circle circle3 svelte-idse3p"></span>',d(e,"class","loading svelte-idse3p")},m(t,l){w(t,e,l)},p:j,i:j,o:j,d(t){t&&$(e)}}}class be extends Z{constructor(e){super(),X(this,e,null,Ps,Q,{})}}let yt={},ke={};W.on("direct",s=>{if(s.val.state===100?Dl(s.val.chatid,s.val.u):s.val.chatid==="livechat"&&s.val.state===101&&Dl("home",s.val.u),s.val.type===1){if(!ke[s.val.post_origin])return;ke[s.val.post_origin]=ke[s.val.post_origin].filter(e=>e!==s.val.u),It.set(ke)}});function Dl(s,e){let t=new Date*1;yt[s]||(yt[s]={}),yt[s][e]=t,ke[s]||(ke[s]=[]),ke[s].includes(e)||(ke[s].push(e),It.set(ke)),setTimeout(function(){zs(s,e,t)},3e3)}function zs(s,e,t){yt[s][e]===t&&(ke[s]=ke[s].filter(l=>l!==e),It.set(ke))}let It=ae({});function Bl(s){let e,t;return e=new oe({props:{$$slots:{default:[Ls]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,n){const r={};n&17&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Es(s){let e,t,l=s[0].splice(s[0].length-1,1).join(", ")+"",n,r,a=s[0][s[0].length-1]+"",i,o;return{c(){e=_("span"),t=_("b"),n=z(l),r=z(" and "),i=z(a),o=z(" are typing..."),d(e,"class","text svelte-1u9lhqm")},m(c,u){w(c,e,u),f(e,t),f(t,n),f(t,r),f(t,i),f(e,o)},p(c,u){u&1&&l!==(l=c[0].splice(c[0].length-1,1).join(", ")+"")&&G(n,l),u&1&&a!==(a=c[0][c[0].length-1]+"")&&G(i,a)},d(c){c&&$(e)}}}function Ms(s){let e;return{c(){e=_("span"),e.textContent="5 or more people are typing..",d(e,"class","text svelte-1u9lhqm")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function Is(s){let e,t,l=s[0][0]+"",n,r;return{c(){e=_("span"),t=_("b"),n=z(l),r=z(" is typing..."),d(e,"class","text svelte-1u9lhqm")},m(a,i){w(a,e,i),f(e,t),f(t,n),f(e,r)},p(a,i){i&1&&l!==(l=a[0][0]+"")&&G(n,l)},d(a){a&&$(e)}}}function Ls(s){let e,t,l,n,r,a,i;function o(p,m){return p[0].length===1?Is:p[0].length>=5?Ms:Es}let c=o(s),u=c(s);return{c(){e=_("span"),t=_("span"),l=S(),n=_("span"),r=S(),a=_("span"),i=S(),u.c(),d(t,"class","circle circle1 svelte-1u9lhqm"),d(n,"class","circle circle2 svelte-1u9lhqm"),d(a,"class","circle circle3 svelte-1u9lhqm"),d(e,"class","loading svelte-1u9lhqm")},m(p,m){w(p,e,m),f(e,t),f(e,l),f(e,n),f(e,r),f(e,a),f(e,i),u.m(e,null)},p(p,m){c===(c=o(p))&&u?u.p(p,m):(u.d(1),u=c(p),u&&(u.c(),u.m(e,null)))},d(p){p&&$(e),u.d()}}}function Os(s){let e,t,l=(s[1]==="home"||s[1]=="groupchat")&&s[0].length>0&&Bl(s);return{c(){l&&l.c(),e=Ce()},m(n,r){l&&l.m(n,r),w(n,e,r),t=!0},p(n,[r]){(n[1]==="home"||n[1]=="groupchat")&&n[0].length>0?l?(l.p(n,r),r&3&&C(l,1)):(l=Bl(n),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(te(),q(l,1,1,()=>{l=null}),le())},i(n){t||(C(l),t=!0)},o(n){q(l),t=!1},d(n){l&&l.d(n),n&&$(e)}}}function Ts(s,e,t){let l,n,r;A(s,re,i=>t(2,l=i)),A(s,$e,i=>t(3,n=i)),A(s,fe,i=>t(1,r=i));let a=[];return It.subscribe(i=>{r==="home"&&t(0,a=i.home),r==="groupchat"&&t(0,a=i[n]),a===void 0&&t(0,a=[]),t(0,a=a.filter(o=>o!==l.name))}),[a,r]}class Hn extends Z{constructor(e){super(),X(this,e,Ts,Os,Q,{})}}const Tt=(...s)=>s.map(parseFloat).reduce((e,t)=>e+t,0),xs=typeof document!="undefined"?!!document.documentElement.currentStyle:!1,Rs=(s,e)=>e.reduce((t,l)=>(t[l]=s[l],t),{}),Ns=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"];function As(s){const e=window.getComputedStyle(s);if(e===null)return null;let t=Rs(e,Ns);const{boxSizing:l}=t;if(l==="")return null;xs&&l==="border-box"&&(t.width=Tt(t.width,t.borderRightWidth,t.borderLeftWidth,t.paddingRight,t.paddingLeft)+"px");const n=Tt(t.paddingBottom,t.paddingTop),r=Tt(t.borderBottomWidth,t.borderTopWidth);return{sizingStyle:t,paddingSize:n,borderSize:r}}const Us={"min-height":"0","max-height":"none",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"};function Hl(s){return Object.entries(Us).forEach(([e,t])=>s.style.setProperty(e,t,"important"))}let he;const Ds=(s,e)=>{const t=s.scrollHeight;return e.sizingStyle.boxSizing==="border-box"?t+e.borderSize:t-e.paddingSize};function Bs(s,e){he||(he=document.createElement("textarea"),he.setAttribute("tab-index","-1"),he.setAttribute("aria-hidden","true"),he.setAttribute("rows","1"),Hl(he)),he.parentNode===null&&document.body.appendChild(he);const{paddingSize:t,borderSize:l,sizingStyle:n}=s,{boxSizing:r}=n;Object.entries(n).forEach(([c,u])=>he.style[c]=u),Hl(he),he.value=e;let a=Ds(he,s);he.value="x";let o=he.scrollHeight-t;return r==="border-box"&&(o=o+t+l),Math.max(o,a)}function Wn(s){const e=()=>{const t=As(s);if(!t)return;const l=Bs(t,s.value||s.placeholder||"x");s.style.setProperty("height",`${l}px`,"important")};s.addEventListener("input",e),window.addEventListener("resize",e),e()}function Zt(s){const e=s-1;return e*e*e+1}function Yn(s,{delay:e=0,duration:t=400,easing:l=Et}={}){const n=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:l,css:r=>`opacity: ${r*n}`}}function Ee(s,{delay:e=0,duration:t=400,easing:l=Zt,x:n=0,y:r=0,opacity:a=0}={}){const i=getComputedStyle(s),o=+i.opacity,c=i.transform==="none"?"":i.transform,u=o*(1-a);return{delay:e,duration:t,easing:l,css:(p,m)=>`
			transform: ${c} translate(${(1-p)*n}px, ${(1-p)*r}px);
			opacity: ${o-u*m}`}}function Wl(s,{delay:e=0,duration:t=400,easing:l=Zt,start:n=0,opacity:r=0}={}){const a=getComputedStyle(s),i=+a.opacity,o=a.transform==="none"?"":a.transform,c=1-n,u=i*(1-r);return{delay:e,duration:t,easing:l,css:(p,m)=>`
			transform: ${o} scale(${1-c*m});
			opacity: ${i-u*m}
		`}}function mt(s,{from:e,to:t},l={}){const n=getComputedStyle(s),r=n.transform==="none"?"":n.transform,[a,i]=n.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*a/t.width-(t.left+a),c=e.top+e.height*i/t.height-(t.top+i),{delay:u=0,duration:p=h=>Math.sqrt(h)*120,easing:m=Zt}=l;return{delay:u,duration:at(p)?p(Math.sqrt(o*o+c*c)):p,easing:m,css:(h,v)=>{const b=v*o,g=v*c,k=h+v*e.width/t.width,y=h+v*e.height/t.height;return`transform: ${r} translate(${b}px, ${g}px) scale(${k}, ${y});`}}}function Yl(s,e,t){const l=s.slice();return l[22]=e[t],l}function Hs(s){let e,t;return e=new oe({props:{$$slots:{default:[Ws]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,n){const r={};n&67108864&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Ws(s){let e,t,l,n,r=s[25]+"",a;return{c(){e=_("h1"),e.textContent="Home",t=z(`\r
			Error loading posts. Please try again.\r
			`),l=_("pre"),n=_("code"),a=z(r)},m(i,o){w(i,e,o),w(i,t,o),w(i,l,o),f(l,n),f(n,a)},p:j,d(i){i&&$(e),i&&$(t),i&&$(l)}}}function Ys(s){let e,t,l,n,r,a,i,o,c,u,p,m;e=new oe({props:{$$slots:{default:[Gs]},$$scope:{ctx:s}}});let h=s[7].name&&Kl(s);n=new Hn({});const v=[Js,Ks],b=[];function g(P,R){return P[0].length<1?0:1}a=g(s),i=b[a]=v[a](s);const k=[Xs,Vs],y=[];function E(P,R){return P[2]?0:P[3]&&P[3]>P[1]?1:-1}return~(u=E(s))&&(p=y[u]=k[u](s)),{c(){O(e.$$.fragment),t=S(),h&&h.c(),l=S(),O(n.$$.fragment),r=S(),i.c(),o=S(),c=_("div"),p&&p.c(),d(c,"class","center svelte-tgtdz3")},m(P,R){I(e,P,R),w(P,t,R),h&&h.m(P,R),w(P,l,R),I(n,P,R),w(P,r,R),b[a].m(P,R),w(P,o,R),w(P,c,R),~u&&y[u].m(c,null),m=!0},p(P,R){const M={};R&67108928&&(M.$$scope={dirty:R,ctx:P}),e.$set(M),P[7].name?h?h.p(P,R):(h=Kl(P),h.c(),h.m(l.parentNode,l)):h&&(h.d(1),h=null);let T=a;a=g(P),a===T?b[a].p(P,R):(te(),q(b[T],1,1,()=>{b[T]=null}),le(),i=b[a],i?i.p(P,R):(i=b[a]=v[a](P),i.c()),C(i,1),i.m(o.parentNode,o));let U=u;u=E(P),u===U?~u&&y[u].p(P,R):(p&&(te(),q(y[U],1,1,()=>{y[U]=null}),le()),~u?(p=y[u],p?p.p(P,R):(p=y[u]=k[u](P),p.c()),C(p,1),p.m(c,null)):p=null)},i(P){m||(C(e.$$.fragment,P),C(n.$$.fragment,P),C(i),C(p),m=!0)},o(P){q(e.$$.fragment,P),q(n.$$.fragment,P),q(i),q(p),m=!1},d(P){L(e,P),P&&$(t),h&&h.d(P),P&&$(l),L(n,P),P&&$(r),b[a].d(P),P&&$(o),P&&$(c),~u&&y[u].d()}}}function Gl(s){let e=" ",t,l,n=s[6].join(", ")+"",r,a;return{c(){t=z(e),l=z("("),r=z(n),a=z(")")},m(i,o){w(i,t,o),w(i,l,o),w(i,r,o),w(i,a,o)},p(i,o){o&64&&n!==(n=i[6].join(", ")+"")&&G(r,n)},d(i){i&&$(t),i&&$(l),i&&$(r),i&&$(a)}}}function Gs(s){let e,t,l=s[6].length+"",n,r,a,i=s[6].length&&Gl(s);return{c(){e=_("h1"),e.textContent="Home",t=z(`\r
			There are currently `),n=z(l),r=z(" user(s) online"),i&&i.c(),a=z(".")},m(o,c){w(o,e,c),w(o,t,c),w(o,n,c),w(o,r,c),i&&i.m(o,c),w(o,a,c)},p(o,c){c&64&&l!==(l=o[6].length+"")&&G(n,l),o[6].length?i?i.p(o,c):(i=Gl(o),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(o){o&&$(e),o&&$(t),o&&$(n),o&&$(r),i&&i.d(o),o&&$(a)}}}function Kl(s){let e,t,l,n,r,a,i,o,c,u;return{c(){e=_("form"),t=_("textarea"),n=S(),r=_("button"),r.textContent="Post",a=S(),i=_("div"),o=z(s[4]),d(t,"type","text"),d(t,"class","white svelte-tgtdz3"),d(t,"placeholder","Write something..."),d(t,"id","postinput"),d(t,"name","postinput"),d(t,"autocomplete","false"),d(t,"maxlength","360"),d(t,"rows","1"),d(r,"id","submitpost"),d(e,"class","createpost svelte-tgtdz3"),d(e,"autocomplete","off"),d(i,"class","post-errors svelte-tgtdz3")},m(p,m){w(p,e,m),f(e,t),s[12](t),f(e,n),f(e,r),w(p,a,m),w(p,i,m),f(i,o),c||(u=[In(l=Wn.call(null,t)),x(t,"input",s[10]),x(t,"keydown",s[11]),x(e,"submit",ge(s[13]))],c=!0)},p(p,m){m&16&&G(o,p[4])},d(p){p&&$(e),s[12](null),p&&$(a),p&&$(i),c=!1,se(u)}}}function Ks(s){let e=[],t=new Map,l,n,r=s[0];const a=i=>i[22].id;for(let i=0;i<r.length;i+=1){let o=Yl(s,r,i),c=a(o);t.set(c,e[i]=Jl(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=Ce()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);w(i,l,o),n=!0},p(i,o){if(o&33){r=i[0],te();for(let c=0;c<e.length;c+=1)e[c].r();e=dt(e,o,a,1,i,r,t,l.parentNode,ft,Jl,l,Yl);for(let c=0;c<e.length;c+=1)e[c].a();le()}},i(i){if(!n){for(let o=0;o<r.length;o+=1)C(e[o]);n=!0}},o(i){for(let o=0;o<e.length;o+=1)q(e[o]);n=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&$(l)}}}function Js(s){let e;function t(r,a){return r[7].name?Qs:Fs}let l=t(s),n=l(s);return{c(){n.c(),e=Ce()},m(r,a){n.m(r,a),w(r,e,a)},p(r,a){l!==(l=t(r))&&(n.d(1),n=l(r),n&&(n.c(),n.m(e.parentNode,e)))},i:j,o:j,d(r){n.d(r),r&&$(e)}}}function Jl(s,e){let t,l,n,r,a,i=j,o;return l=new lt({props:{post:e[22],input:e[5]}}),{key:s,first:null,c(){t=_("div"),O(l.$$.fragment),n=S(),this.first=t},m(c,u){w(c,t,u),I(l,t,null),f(t,n),o=!0},p(c,u){e=c;const p={};u&1&&(p.post=e[22]),u&32&&(p.input=e[5]),l.$set(p)},r(){a=t.getBoundingClientRect()},f(){ut(t),i(),Ze(t,a)},a(){i(),i=ct(t,a,mt,{duration:250})},i(c){o||(C(l.$$.fragment,c),c&&Se(()=>{r||(r=ye(t,Ee,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){q(l.$$.fragment,c),c&&(r||(r=ye(t,Ee,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&$(t),L(l),c&&r&&r.end()}}}function Fs(s){let e;return{c(){e=z("No posts here. Check back later!")},m(t,l){w(t,e,l)},d(t){t&&$(e)}}}function Qs(s){let e;return{c(){e=z("No posts here. Check back later or be the first to post!")},m(t,l){w(t,e,l)},d(t){t&&$(e)}}}function Vs(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",d(e,"class","load-more svelte-tgtdz3")},m(n,r){w(n,e,r),t||(l=x(e,"click",s[14]),t=!0)},p:j,i:j,o:j,d(n){n&&$(e),t=!1,l()}}}function Xs(s){let e,t;return e=new be({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Zs(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-tgtdz3")},m(n,r){w(n,e,r),I(t,e,null),l=!0},p:j,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&$(e),L(t)}}}function er(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:Zs,then:Ys,catch:Hs,error:25,blocks:[,,,]};return Ye(s[9](1),l),{c(){e=_("div"),l.block.c(),d(e,"class","home svelte-tgtdz3")},m(n,r){w(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[r]){s=n,et(l,s,r)},i(n){t||(C(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&$(e),l.block.d(),l.token=null,l=null}}}function tr(s,e,t){let l,n,r,a,i;A(s,Oe,N=>t(17,l=N)),A(s,re,N=>t(7,n=N)),A(s,fe,N=>t(18,r=N)),A(s,Je,N=>t(19,a=N)),A(s,jt,N=>t(8,i=N));let o=0,{posts:c=[]}=e,u=0,p=!1,m=null,h="",v=0,b;async function g(N){if(t(2,p=!0),N===void 0)t(0,c=[]);else{let V=N+Math.floor(v/25),ne=v%25;try{let ee="home?autoget&page=";pt&&(ee=encodeURIComponent(ee));const ce=await fetch(`${Te}${ee}${V}`,{headers:a});if(!ce.ok)throw new Error("Response code is not OK; code is "+ce.status);const B=await ce.json();let H=B.autoget;H.splice(0,ne),t(3,m=B.pages);let K,J;if(ne>0&&u<m){if(K=await fetch(`${Te}${ee}${V+1}`),!ce.ok)throw new Error("Overflow response code is not OK; code is "+ce.status);J=await K.json(),H=H.concat(J.autoget.slice(0,ne))}for(const F of H)c.push({id:o++,post_id:F.post_id,user:F.u,content:F.p,date:F.t.e});t(1,u=N)}catch(ee){throw t(2,p=!1),ee}}return t(0,c),t(2,p=!1),c}function k(N){c.unshift({id:o++,...N}),t(0,c)}function y(){W.on("direct",N=>{if(r==="home"&&N.val.mode===1){if(N.val.post_origin!=="home")return;k({post_id:N.val._id,user:N.val.u,content:N.val.p,date:N.val.t.e}),v++,t(0,c),n.sfx&&(N.val.u,n.name)}N.val.mode==="delete"&&t(0,c=c.filter(V=>V.post_id!==N.val.id))})}W.ws.readyState===1?y():W.ws.addEventListener("open",y);let E=l;Oe.subscribe(N=>{t(6,E=N)});const P=()=>{i+1500<new Date*1&&(jt.set(new Date*1),W.send({cmd:"direct",val:{cmd:"set_chat_state",val:{chatid:"livechat",state:101}},listener:"typing_indicator"}))},R=N=>{N.key=="Enter"&&!Fe&&(N.preventDefault(),document.getElementById("submitpost").click())};function M(N){De[N?"unshift":"push"](()=>{b=N,t(5,b)})}const T=N=>{if(t(4,h=""),!N.target[0].value.trim())return t(4,h="You cannot send an empty post!"),!1;Be.set(!0),N.target[1].disabled=!0,W.send({cmd:"direct",val:{cmd:"post_home",val:N.target[0].value},listener:"post_home"});const V=W.on("statuscode",ne=>{ne.listener==="post_home"&&(W.off(V),Be.set(!1),N.target[1].disabled=!1,ne.val==="I:100 | OK"?(N.target[0].value="",N.target[0].rows="1",N.target[0].style.height="45px"):ne.val==="E:106 | Too many requests"?t(4,h="You're posting too fast!"):t(4,h="Unexpected "+ne.val+" error!"))});return!1},U=()=>g(u+1);return s.$$set=N=>{"posts"in N&&t(0,c=N.posts)},[c,u,p,m,h,b,E,n,i,g,P,R,M,T,U]}class lr extends Z{constructor(e){super(),X(this,e,tr,er,Q,{posts:0})}}function Fl(s,e,t){const l=s.slice();return l[10]=e[t],l}function nr(s){let e,t;return e=new oe({props:{$$slots:{default:[sr]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,n){const r={};n&16384&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function sr(s){let e,t,l,n,r=s[13]+"",a;return{c(){e=_("h1"),e.textContent="Inbox Messages",t=z(`\r
			Error loading messages. Please try again.\r
			`),l=_("pre"),n=_("code"),a=z(r)},m(i,o){w(i,e,o),w(i,t,o),w(i,l,o),f(l,n),f(n,a)},p:j,d(i){i&&$(e),i&&$(t),i&&$(l)}}}function rr(s){let e,t,l,n,r,a,i,o,c;e=new oe({props:{$$slots:{default:[or]},$$scope:{ctx:s}}});const u=[ar,ir],p=[];function m(g,k){return g[0].length<1?0:1}l=m(s),n=p[l]=u[l](s);const h=[ur,cr],v=[];function b(g,k){return g[2]?0:g[3]&&g[3]>g[1]?1:-1}return~(i=b(s))&&(o=v[i]=h[i](s)),{c(){O(e.$$.fragment),t=S(),n.c(),r=S(),a=_("div"),o&&o.c(),d(a,"class","center svelte-1y77739")},m(g,k){I(e,g,k),w(g,t,k),p[l].m(g,k),w(g,r,k),w(g,a,k),~i&&v[i].m(a,null),c=!0},p(g,k){const y={};k&16384&&(y.$$scope={dirty:k,ctx:g}),e.$set(y);let E=l;l=m(g),l===E?p[l].p(g,k):(te(),q(p[E],1,1,()=>{p[E]=null}),le(),n=p[l],n?n.p(g,k):(n=p[l]=u[l](g),n.c()),C(n,1),n.m(r.parentNode,r));let P=i;i=b(g),i===P?~i&&v[i].p(g,k):(o&&(te(),q(v[P],1,1,()=>{v[P]=null}),le()),~i?(o=v[i],o?o.p(g,k):(o=v[i]=h[i](g),o.c()),C(o,1),o.m(a,null)):o=null)},i(g){c||(C(e.$$.fragment,g),C(n),C(o),c=!0)},o(g){q(e.$$.fragment,g),q(n),q(o),c=!1},d(g){L(e,g),g&&$(t),p[l].d(g),g&&$(r),g&&$(a),~i&&v[i].d()}}}function or(s){let e,t;return{c(){e=_("h1"),e.textContent="Inbox Messages",t=z(`\r
			Here are your latest inbox messages. We will send announcements and moderator messages to here!`)},m(l,n){w(l,e,n),w(l,t,n)},p:j,d(l){l&&$(e),l&&$(t)}}}function ir(s){let e=[],t=new Map,l,n,r=s[0];const a=i=>i[10].id;for(let i=0;i<r.length;i+=1){let o=Fl(s,r,i),c=a(o);t.set(c,e[i]=Ql(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=Ce()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);w(i,l,o),n=!0},p(i,o){if(o&1){r=i[0],te();for(let c=0;c<e.length;c+=1)e[c].r();e=dt(e,o,a,1,i,r,t,l.parentNode,ft,Ql,l,Fl);for(let c=0;c<e.length;c+=1)e[c].a();le()}},i(i){if(!n){for(let o=0;o<r.length;o+=1)C(e[o]);n=!0}},o(i){for(let o=0;o<e.length;o+=1)q(e[o]);n=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&$(l)}}}function ar(s){let e;return{c(){e=z("No messages yet. Check back later!")},m(t,l){w(t,e,l)},p:j,i:j,o:j,d(t){t&&$(e)}}}function Ql(s,e){let t,l,n,r,a,i=j,o;return l=new lt({props:{post:e[10]}}),{key:s,first:null,c(){t=_("div"),O(l.$$.fragment),n=S(),this.first=t},m(c,u){w(c,t,u),I(l,t,null),f(t,n),o=!0},p(c,u){e=c;const p={};u&1&&(p.post=e[10]),l.$set(p)},r(){a=t.getBoundingClientRect()},f(){ut(t),i(),Ze(t,a)},a(){i(),i=ct(t,a,mt,{duration:250})},i(c){o||(C(l.$$.fragment,c),c&&Se(()=>{r||(r=ye(t,Ee,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){q(l.$$.fragment,c),c&&(r||(r=ye(t,Ee,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&$(t),L(l),c&&r&&r.end()}}}function cr(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",d(e,"class","load-more svelte-1y77739")},m(n,r){w(n,e,r),t||(l=x(e,"click",s[5]),t=!0)},p:j,i:j,o:j,d(n){n&&$(e),t=!1,l()}}}function ur(s){let e,t;return e=new be({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function fr(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-1y77739")},m(n,r){w(n,e,r),I(t,e,null),l=!0},p:j,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&$(e),L(t)}}}function dr(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:fr,then:rr,catch:nr,error:13,blocks:[,,,]};return Ye(s[4](1),l),{c(){e=_("div"),l.block.c(),d(e,"class","messages svelte-1y77739")},m(n,r){w(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[r]){s=n,et(l,s,r)},i(n){t||(C(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&$(e),l.block.d(),l.token=null,l=null}}}let Vl=0;function pr(s,e,t){let l,n;A(s,Je,h=>t(7,l=h)),A(s,re,h=>t(8,n=h));let r=0,{posts:a=[]}=e,i=0,o=!1,c=null;async function u(h){if(Y(re,n.unread_inbox=!1,n),Ue(),t(2,o=!0),h===void 0)t(0,a=[]);else{let v=h+Math.floor(Vl/25),b=Vl%25;try{let g="inbox?autoget&page=";pt&&(g=encodeURIComponent(g));const k=await fetch(`${Te}${g}${v}`,{headers:l});if(!k.ok)throw new Error("Response code is not OK; code is "+k.status);const y=await k.json();let E=y.autoget;E.splice(0,b),t(3,c=y.pages);let P,R;b>0&&i<c;for(const M of E)M.u==="Server"?M.u="Announcement":M.u="Notification",a.push({id:r++,post_id:M.post_id,user:M.u,content:M.p,date:M.t.e});t(1,i=h)}catch(g){throw t(2,o=!1),g}}return t(0,a),t(2,o=!1),a}function p(){W.on("direct",h=>{h.val.mode==="delete"&&t(0,a=a.filter(v=>v.post_id!==h.val.id))})}W.ws.readyState===1?p():W.ws.addEventListener("open",p);const m=()=>u(i+1);return s.$$set=h=>{"posts"in h&&t(0,a=h.posts)},[a,i,o,c,u,m]}class mr extends Z{constructor(e){super(),X(this,e,pr,dr,Q,{posts:0})}}const _r=s=>({}),Xl=s=>({});function gr(s){let e,t,l,n,r,a,i,o,c,u;const p=s[4].header,m=xt(p,s,s[3],Xl),h=s[4].default,v=xt(h,s,s[3],null);return{c(){e=_("div"),t=S(),l=_("div"),m&&m.c(),n=S(),r=_("hr"),a=S(),v&&v.c(),d(e,"class","modal-background svelte-c5nskh"),d(l,"class","modal svelte-c5nskh"),d(l,"role","dialog"),d(l,"aria-modal","true")},m(b,g){w(b,e,g),w(b,t,g),w(b,l,g),m&&m.m(l,null),f(l,n),f(l,r),f(l,a),v&&v.m(l,null),s[5](l),o=!0,c||(u=[x(window,"keydown",s[2]),x(e,"click",s[1])],c=!0)},p(b,[g]){m&&m.p&&(!o||g&8)&&Nt(m,p,b,b[3],o?Rt(p,b[3],g,_r):At(b[3]),Xl),v&&v.p&&(!o||g&8)&&Nt(v,h,b,b[3],o?Rt(h,b[3],g,null):At(b[3]),null)},i(b){o||(C(m,b),C(v,b),Se(()=>{i||(i=ye(l,Wl,{duration:200},!0)),i.run(1)}),o=!0)},o(b){q(m,b),q(v,b),i||(i=ye(l,Wl,{duration:200},!1)),i.run(0),o=!1},d(b){b&&$(e),b&&$(t),b&&$(l),m&&m.d(b),v&&v.d(b),s[5](null),b&&i&&i.end(),c=!1,se(u)}}}function hr(s,e,t){let{$$slots:l={},$$scope:n}=e;const r=as(),a=()=>r("close");let i;const o=p=>{if(p.key==="Escape"){a();return}if(p.key==="Tab"){const m=i.querySelectorAll("*"),h=Array.from(m).filter(b=>b.tabIndex>=0);let v=h.indexOf(document.activeElement);v===-1&&p.shiftKey&&(v=0),v+=h.length+(p.shiftKey?-1:1),v%=h.length,h[v].focus(),p.preventDefault()}},c=typeof document!="undefined"&&document.activeElement;c&&is(()=>{c.focus()});function u(p){De[p?"unshift":"push"](()=>{i=p,t(0,i)})}return s.$$set=p=>{"$$scope"in p&&t(3,n=p.$$scope)},[i,a,o,n,l,u]}class pe extends Z{constructor(e){super(),X(this,e,hr,gr,Q,{})}}function Zl(s,e,t){const l=s.slice();return l[17]=e[t],l}function vr(s){let e,t,l,n,r=[],a=new Map,i,o,c,u,p;e=new oe({props:{$$slots:{default:[kr]},$$scope:{ctx:s}}}),l=new oe({props:{$$slots:{default:[$r]},$$scope:{ctx:s}}});let m=s[0];const h=k=>k[17]._id;for(let k=0;k<m.length;k+=1){let y=Zl(s,m,k),E=h(y);a.set(E,r[k]=en(E,y))}const v=[Cr,yr],b=[];function g(k,y){return k[3]?0:k[4]&&k[4]>k[2]?1:-1}return~(c=g(s))&&(u=b[c]=v[c](s)),{c(){O(e.$$.fragment),t=S(),O(l.$$.fragment),n=S();for(let k=0;k<r.length;k+=1)r[k].c();i=S(),o=_("div"),u&&u.c(),d(o,"class","center svelte-ruol0l")},m(k,y){I(e,k,y),w(k,t,y),I(l,k,y),w(k,n,y);for(let E=0;E<r.length;E+=1)r[E].m(k,y);w(k,i,y),w(k,o,y),~c&&b[c].m(o,null),p=!0},p(k,y){const E={};y&1048576&&(E.$$scope={dirty:y,ctx:k}),e.$set(E);const P={};if(y&1048576&&(P.$$scope={dirty:y,ctx:k}),l.$set(P),y&3){m=k[0],te();for(let M=0;M<r.length;M+=1)r[M].r();r=dt(r,y,h,1,k,m,a,i.parentNode,ft,en,i,Zl);for(let M=0;M<r.length;M+=1)r[M].a();le()}let R=c;c=g(k),c===R?~c&&b[c].p(k,y):(u&&(te(),q(b[R],1,1,()=>{b[R]=null}),le()),~c?(u=b[c],u?u.p(k,y):(u=b[c]=v[c](k),u.c()),C(u,1),u.m(o,null)):u=null)},i(k){if(!p){C(e.$$.fragment,k),C(l.$$.fragment,k);for(let y=0;y<m.length;y+=1)C(r[y]);C(u),p=!0}},o(k){q(e.$$.fragment,k),q(l.$$.fragment,k);for(let y=0;y<r.length;y+=1)q(r[y]);q(u),p=!1},d(k){L(e,k),k&&$(t),L(l,k),k&&$(n);for(let y=0;y<r.length;y+=1)r[y].d(k);k&&$(i),k&&$(o),~c&&b[c].d()}}}function br(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-ruol0l")},m(n,r){w(n,e,r),I(t,e,null),l=!0},p:j,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&$(e),L(t)}}}function kr(s){let e,t,l,n,r,a;return{c(){e=_("h1"),e.textContent="Chats",t=z(`\r
			Here are your chats. Press the chat button to enter a chat.\r
			`),l=_("div"),n=_("button"),d(n,"class","circle plus svelte-ruol0l"),d(l,"class","settings-controls svelte-ruol0l")},m(i,o){w(i,e,o),w(i,t,o),w(i,l,o),f(l,n),r||(a=x(n,"click",s[8]),r=!0)},p:j,d(i){i&&$(e),i&&$(t),i&&$(l),r=!1,a()}}}function $r(s){let e,t,l,n,r,a,i;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h1"),n.textContent="Livechat",r=z(`\r
			This is the public livechat. Messages in this chat don't save.`),d(t,"class","circle join svelte-ruol0l"),d(e,"class","settings-controls svelte-ruol0l")},m(o,c){w(o,e,c),f(e,t),w(o,l,c),w(o,n,c),w(o,r,c),a||(i=x(t,"click",s[9]),a=!0)},p:j,d(o){o&&$(e),o&&$(l),o&&$(n),o&&$(r),a=!1,i()}}}function wr(s){let e,t,l,n,r,a,i=s[17].nickname+"",o,c,u=(s[17].members.length>100?s[17].members.slice(0,99).join(", ")+"...":s[17].members.join(", "))+"",p,m,h;function v(){return s[10](s[17])}function b(){return s[11](s[17])}return{c(){e=_("div"),t=_("button"),l=S(),n=_("button"),r=S(),a=_("h1"),o=z(i),c=z(`\r
                    Members: `),p=z(u),d(t,"class","circle close svelte-ruol0l"),d(n,"class","circle join svelte-ruol0l"),d(e,"class","settings-controls svelte-ruol0l")},m(g,k){w(g,e,k),f(e,t),f(e,l),f(e,n),w(g,r,k),w(g,a,k),f(a,o),w(g,c,k),w(g,p,k),m||(h=[x(t,"click",v),x(n,"click",b)],m=!0)},p(g,k){s=g,k&1&&i!==(i=s[17].nickname+"")&&G(o,i),k&1&&u!==(u=(s[17].members.length>100?s[17].members.slice(0,99).join(", ")+"...":s[17].members.join(", "))+"")&&G(p,u)},d(g){g&&$(e),g&&$(r),g&&$(a),g&&$(c),g&&$(p),m=!1,se(h)}}}function en(s,e){let t,l,n,r,a=j,i;return l=new oe({props:{$$slots:{default:[wr]},$$scope:{ctx:e}}}),{key:s,first:null,c(){t=_("div"),O(l.$$.fragment),this.first=t},m(o,c){w(o,t,c),I(l,t,null),i=!0},p(o,c){e=o;const u={};c&1048579&&(u.$$scope={dirty:c,ctx:e}),l.$set(u)},r(){r=t.getBoundingClientRect()},f(){ut(t),a(),Ze(t,r)},a(){a(),a=ct(t,r,mt,{duration:250})},i(o){i||(C(l.$$.fragment,o),o&&Se(()=>{n||(n=ye(t,Ee,{y:-50,duration:250},!0)),n.run(1)}),i=!0)},o(o){q(l.$$.fragment,o),o&&(n||(n=ye(t,Ee,{y:-50,duration:250},!1)),n.run(0)),i=!1},d(o){o&&$(t),L(l),o&&n&&n.end()}}}function yr(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",d(e,"class","load-more svelte-ruol0l")},m(n,r){w(n,e,r),t||(l=x(e,"click",s[12]),t=!0)},p:j,i:j,o:j,d(n){n&&$(e),t=!1,l()}}}function Cr(s){let e,t;return e=new be({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function tn(s){let e,t;return e=new pe({props:{$$slots:{default:[qr],header:[Sr]},$$scope:{ctx:s}}}),e.$on("close",s[15]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,n){const r={};n&1048675&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Sr(s){let e;return{c(){e=_("h2"),e.textContent="Leave Chat",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function qr(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v,b;return{c(){e=_("div"),t=_("span"),l=z("Are you sure you want to leave "),n=z(s[5]),r=z("?"),a=S(),i=_("br"),o=_("br"),c=S(),u=_("div"),p=_("button"),p.textContent="No",m=S(),h=_("button"),h.textContent="Yes",d(u,"class","modal-buttons"),d(e,"slot","default")},m(g,k){w(g,e,k),f(e,t),f(t,l),f(t,n),f(t,r),f(e,a),f(e,i),f(e,o),f(e,c),f(e,u),f(u,p),f(u,m),f(u,h),v||(b=[x(p,"click",s[13]),x(h,"click",s[14])],v=!0)},p(g,k){k&32&&G(n,g[5])},d(g){g&&$(e),v=!1,se(b)}}}function jr(s){let e,t,l,n,r;const a=[br,vr],i=[];function o(u,p){return u[3]?0:1}t=o(s),l=i[t]=a[t](s);let c=s[1]&&tn(s);return{c(){e=_("div"),l.c(),n=S(),c&&c.c(),d(e,"class","chats svelte-ruol0l")},m(u,p){w(u,e,p),i[t].m(e,null),f(e,n),c&&c.m(e,null),r=!0},p(u,[p]){let m=t;t=o(u),t===m?i[t].p(u,p):(te(),q(i[m],1,1,()=>{i[m]=null}),le(),l=i[t],l?l.p(u,p):(l=i[t]=a[t](u),l.c()),C(l,1),l.m(e,n)),u[1]?c?(c.p(u,p),p&2&&C(c,1)):(c=tn(u),c.c(),C(c,1),c.m(e,null)):c&&(te(),q(c,1,1,()=>{c=null}),le())},i(u){r||(C(l),C(c),r=!0)},o(u){q(l),q(c),r=!1},d(u){u&&$(e),i[t].d(),c&&c.d()}}}let ln=0;function Pr(s,e,t){let l,n;A(s,We,P=>t(5,l=P)),A(s,$e,P=>t(6,n=P));let{chats:r=[]}=e,a=!1,i=0,o=!1,c=null;async function u(P){if(t(3,o=!0),P===void 0)t(0,r=[]);else{let R=P+Math.floor(ln/25);ie({cmd:"direct",val:{cmd:"get_chat_list",val:{page:R}}})}}function p(){W.on("direct",P=>{if(P.val.mode==="chats"){let R=ln%25,M=P.val.payload.all_chats;M.splice(0,R),t(4,c=P.val.payload.pages),t(2,i=P.val.payload["page#"]),t(0,r=M),t(3,o=!1)}})}W.ws.readyState===1?p():W.ws.addEventListener("open",p),u(1);const m=()=>{ue.set("createChat"),D.set(!0)},h=()=>{We.set("Livechat"),$e.set("livechat"),Ge.set([]),Dt.set(""),window.scrollTo(0,0),fe.set("blank"),we().then(()=>fe.set("groupchat"))},v=P=>{We.set(P.nickname),$e.set(P._id),t(1,a=!0)},b=P=>{We.set(P.nickname),$e.set(P._id),Ge.set(P.members),Dt.set(P.owner),window.scrollTo(0,0),fe.set("blank"),we().then(()=>fe.set("groupchat"))},g=()=>u(i+1),k=()=>{t(1,a=!1)},y=()=>{t(0,r=r.filter(P=>P._id!==n)),ie({cmd:"direct",val:{cmd:"leave_chat",val:n}}),t(1,a=!1)},E=()=>{t(1,a=!1)};return s.$$set=P=>{"chats"in P&&t(0,r=P.chats)},[r,a,i,o,c,l,n,u,m,h,v,b,g,k,y,E]}class zr extends Z{constructor(e){super(),X(this,e,Pr,jr,Q,{chats:0})}}function Er(s){let e,t,l,n,r;return{c(){e=_("div"),t=z("error loading member "),l=z(s[0]),n=z(": "),r=z(s[2]),d(e,"class","error svelte-zakp9s")},m(a,i){w(a,e,i),f(e,t),f(e,l),f(e,n),f(e,r)},p(a,i){i&1&&G(l,a[0]),i&4&&G(r,a[2])},i:j,o:j,d(a){a&&$(e)}}}function Mr(s){let e,t,l,n,r,a,i;return l=new tt({props:{icon:s[1],alt:s[0]+"'s profile picture",online:s[3].includes(s[0]),size:.5}}),{c(){e=_("div"),t=_("div"),O(l.$$.fragment),n=S(),r=_("p"),a=z(s[0]),d(t,"class","member-pfp"),d(r,"class","member-name svelte-zakp9s"),d(e,"class","member svelte-zakp9s")},m(o,c){w(o,e,c),f(e,t),I(l,t,null),f(e,n),f(e,r),f(r,a),i=!0},p(o,c){const u={};c&2&&(u.icon=o[1]),c&1&&(u.alt=o[0]+"'s profile picture"),c&9&&(u.online=o[3].includes(o[0])),l.$set(u),(!i||c&1)&&G(a,o[0])},i(o){i||(C(l.$$.fragment,o),i=!0)},o(o){q(l.$$.fragment,o),i=!1},d(o){o&&$(e),L(l)}}}function Ir(s){let e,t,l,n;const r=[Mr,Er],a=[];function i(o,c){return o[2]?1:0}return e=i(s),t=a[e]=r[e](s),{c(){t.c(),l=Ce()},m(o,c){a[e].m(o,c),w(o,l,c),n=!0},p(o,[c]){let u=e;e=i(o),e===u?a[e].p(o,c):(te(),q(a[u],1,1,()=>{a[u]=null}),le(),t=a[e],t?t.p(o,c):(t=a[e]=r[e](o),t.c()),C(t,1),t.m(l.parentNode,l))},i(o){n||(C(t),n=!0)},o(o){q(t),n=!1},d(o){a[e].d(o),o&&$(l)}}}function Lr(s,e,t){let l;A(s,Oe,o=>t(3,l=o));let{member:n=""}=e,r=0,a;async function i(){try{t(1,r=(await zt(n)).pfp_data)}catch(o){t(2,a=o),t(1,r=-2)}}return Ft(i),s.$$set=o=>{"member"in o&&t(0,n=o.member)},[n,r,a,l]}class Or extends Z{constructor(e){super(),X(this,e,Lr,Ir,Q,{member:0})}}function nn(s,e,t){const l=s.slice();return l[27]=e[t],l}function sn(s,e,t){const l=s.slice();return l[30]=e[t],l}function Tr(s){let e,t;return e=new oe({props:{$$slots:{default:[xr]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,n){const r={};n[1]&8&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function xr(s){let e,t,l,n,r=s[33]+"",a;return{c(){e=_("h1"),e.textContent=`${We}`,t=z(`\r
			Error loading posts. Please try again.\r
			`),l=_("pre"),n=_("code"),a=z(r)},m(i,o){w(i,e,o),w(i,t,o),w(i,l,o),f(l,n),f(n,a)},p:j,d(i){i&&$(e),i&&$(t),i&&$(l)}}}function Rr(s){let e,t,l,n,r,a,i,o,c,u,p;t=new oe({props:{$$slots:{default:[Nr]},$$scope:{ctx:s}}});let m=s[9].name&&on(s);r=new Hn({});const h=[Ur,Ar],v=[];function b(k,y){return k[0].length<1?0:1}i=b(s),o=v[i]=h[i](s);let g=s[6]&&s[8]!=="livechat"&&cn(s);return{c(){e=_("div"),O(t.$$.fragment),l=S(),m&&m.c(),n=S(),O(r.$$.fragment),a=S(),o.c(),c=S(),g&&g.c(),u=Ce(),d(e,"id","chat"),d(e,"class","svelte-1pjlcg7")},m(k,y){w(k,e,y),I(t,e,null),f(e,l),m&&m.m(e,null),f(e,n),I(r,e,null),f(e,a),v[i].m(e,null),w(k,c,y),g&&g.m(k,y),w(k,u,y),p=!0},p(k,y){const E={};y[0]&448|y[1]&8&&(E.$$scope={dirty:y,ctx:k}),t.$set(E),k[9].name?m?m.p(k,y):(m=on(k),m.c(),m.m(e,n)):m&&(m.d(1),m=null);let P=i;i=b(k),i===P?v[i].p(k,y):(te(),q(v[P],1,1,()=>{v[P]=null}),le(),o=v[i],o?o.p(k,y):(o=v[i]=h[i](k),o.c()),C(o,1),o.m(e,null)),k[6]&&k[8]!=="livechat"?g?(g.p(k,y),y[0]&320&&C(g,1)):(g=cn(k),g.c(),C(g,1),g.m(u.parentNode,u)):g&&(te(),q(g,1,1,()=>{g=null}),le())},i(k){p||(C(t.$$.fragment,k),C(r.$$.fragment,k),C(o),C(g),p=!0)},o(k){q(t.$$.fragment,k),q(r.$$.fragment,k),q(o),q(g),p=!1},d(k){k&&$(e),L(t),m&&m.d(),L(r),v[i].d(),k&&$(c),g&&g.d(k),k&&$(u)}}}function rn(s){let e,t,l,n;return{c(){e=_("div"),t=_("button"),d(t,"class","circle members"),d(e,"class","settings-controls svelte-1pjlcg7")},m(r,a){w(r,e,a),f(e,t),l||(n=x(t,"click",s[13]),l=!0)},p:j,d(r){r&&$(e),l=!1,n()}}}function Nr(s){let e,t,l,n,r,a,i=s[8]!=="livechat"&&rn(s);return{c(){e=_("h1"),t=z(s[7]),l=z(`\r
				Chat ID: `),n=z(s[8]),r=S(),i&&i.c(),a=Ce()},m(o,c){w(o,e,c),f(e,t),w(o,l,c),w(o,n,c),w(o,r,c),i&&i.m(o,c),w(o,a,c)},p(o,c){c[0]&128&&G(t,o[7]),c[0]&256&&G(n,o[8]),o[8]!=="livechat"?i?i.p(o,c):(i=rn(o),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(o){o&&$(e),o&&$(l),o&&$(n),o&&$(r),i&&i.d(o),o&&$(a)}}}function on(s){let e,t,l,n,r,a,i,o,c,u;return{c(){e=_("form"),t=_("textarea"),n=S(),r=_("button"),r.textContent="Post",a=S(),i=_("div"),o=z(s[4]),d(t,"type","text"),d(t,"class","white svelte-1pjlcg7"),d(t,"placeholder","Write something..."),d(t,"id","postinput"),d(t,"name","postinput"),d(t,"autocomplete","false"),d(t,"maxlength","360"),d(t,"rows","1"),d(r,"id","submitpost"),d(e,"class","createpost svelte-1pjlcg7"),d(e,"autocomplete","off"),d(i,"class","post-errors svelte-1pjlcg7")},m(p,m){w(p,e,m),f(e,t),s[16](t),f(e,n),f(e,r),w(p,a,m),w(p,i,m),f(i,o),c||(u=[In(l=Wn.call(null,t)),x(t,"input",s[14]),x(t,"keydown",s[15]),x(e,"submit",ge(s[17]))],c=!0)},p(p,m){m[0]&16&&G(o,p[4])},d(p){p&&$(e),s[16](null),p&&$(a),p&&$(i),c=!1,se(u)}}}function Ar(s){let e=[],t=new Map,l,n,r,a,i,o=s[0];const c=h=>h[30].id;for(let h=0;h<o.length;h+=1){let v=sn(s,o,h),b=c(v);t.set(b,e[h]=an(b,v))}const u=[Br,Dr],p=[];function m(h,v){return h[2]?0:h[3]&&h[3]>h[1]?1:-1}return~(r=m(s))&&(a=p[r]=u[r](s)),{c(){for(let h=0;h<e.length;h+=1)e[h].c();l=S(),n=_("div"),a&&a.c(),d(n,"class","center svelte-1pjlcg7")},m(h,v){for(let b=0;b<e.length;b+=1)e[b].m(h,v);w(h,l,v),w(h,n,v),~r&&p[r].m(n,null),i=!0},p(h,v){if(v[0]&33){o=h[0],te();for(let g=0;g<e.length;g+=1)e[g].r();e=dt(e,v,c,1,h,o,t,l.parentNode,ft,an,l,sn);for(let g=0;g<e.length;g+=1)e[g].a();le()}let b=r;r=m(h),r===b?~r&&p[r].p(h,v):(a&&(te(),q(p[b],1,1,()=>{p[b]=null}),le()),~r?(a=p[r],a?a.p(h,v):(a=p[r]=u[r](h),a.c()),C(a,1),a.m(n,null)):a=null)},i(h){if(!i){for(let v=0;v<o.length;v+=1)C(e[v]);C(a),i=!0}},o(h){for(let v=0;v<e.length;v+=1)q(e[v]);q(a),i=!1},d(h){for(let v=0;v<e.length;v+=1)e[v].d(h);h&&$(l),h&&$(n),~r&&p[r].d()}}}function Ur(s){let e;function t(r,a){return r[9].name?Wr:Hr}let l=t(s),n=l(s);return{c(){n.c(),e=Ce()},m(r,a){n.m(r,a),w(r,e,a)},p(r,a){l!==(l=t(r))&&(n.d(1),n=l(r),n&&(n.c(),n.m(e.parentNode,e)))},i:j,o:j,d(r){n.d(r),r&&$(e)}}}function an(s,e){let t,l,n,r,a=j,i;return l=new lt({props:{post:e[30],input:e[5]}}),{key:s,first:null,c(){t=_("div"),O(l.$$.fragment),this.first=t},m(o,c){w(o,t,c),I(l,t,null),i=!0},p(o,c){e=o;const u={};c[0]&1&&(u.post=e[30]),c[0]&32&&(u.input=e[5]),l.$set(u)},r(){r=t.getBoundingClientRect()},f(){ut(t),a(),Ze(t,r)},a(){a(),a=ct(t,r,mt,{duration:250})},i(o){i||(C(l.$$.fragment,o),o&&Se(()=>{n||(n=ye(t,Ee,{y:-50,duration:250},!0)),n.run(1)}),i=!0)},o(o){q(l.$$.fragment,o),o&&(n||(n=ye(t,Ee,{y:-50,duration:250},!1)),n.run(0)),i=!1},d(o){o&&$(t),L(l),o&&n&&n.end()}}}function Dr(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",d(e,"class","load-more svelte-1pjlcg7")},m(n,r){w(n,e,r),t||(l=x(e,"click",s[18]),t=!0)},p:j,i:j,o:j,d(n){n&&$(e),t=!1,l()}}}function Br(s){let e,t;return e=new be({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Hr(s){let e;return{c(){e=z("No posts here. Check back later!")},m(t,l){w(t,e,l)},d(t){t&&$(e)}}}function Wr(s){let e;return{c(){e=z("No posts here. Check back later or be the first to post!")},m(t,l){w(t,e,l)},d(t){t&&$(e)}}}function cn(s){let e,t,l,n,r,a,i,o,c,u,p,m=s[11],h=[];for(let b=0;b<m.length;b+=1)h[b]=un(nn(s,m,b));const v=b=>q(h[b],1,1,()=>{h[b]=null});return{c(){e=_("div"),t=_("div");for(let b=0;b<h.length;b+=1)h[b].c();l=S(),n=_("div"),r=_("h2"),r.textContent="Members",a=S(),i=_("div"),o=_("button"),d(t,"id","members-inner"),d(t,"class","svelte-1pjlcg7"),d(r,"class","members-title svelte-1pjlcg7"),d(o,"class","circle plus"),d(i,"class","settings-controls svelte-1pjlcg7"),d(n,"class","top svelte-1pjlcg7"),d(e,"id","members"),d(e,"class","svelte-1pjlcg7")},m(b,g){w(b,e,g),f(e,t);for(let k=0;k<h.length;k+=1)h[k].m(t,null);f(e,l),f(e,n),f(n,r),f(n,a),f(n,i),f(i,o),c=!0,u||(p=x(o,"click",s[20]),u=!0)},p(b,g){if(g[0]&2048){m=b[11];let k;for(k=0;k<m.length;k+=1){const y=nn(b,m,k);h[k]?(h[k].p(y,g),C(h[k],1)):(h[k]=un(y),h[k].c(),C(h[k],1),h[k].m(t,null))}for(te(),k=m.length;k<h.length;k+=1)v(k);le()}},i(b){if(!c){for(let g=0;g<m.length;g+=1)C(h[g]);c=!0}},o(b){h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)q(h[g]);c=!1},d(b){b&&$(e),Kt(h,b),u=!1,p()}}}function un(s){let e,t,l,n,r,a;t=new Or({props:{member:s[27]}});function i(){return s[19](s[27])}return{c(){e=_("button"),O(t.$$.fragment),l=S(),d(e,"class","member-button svelte-1pjlcg7")},m(o,c){w(o,e,c),I(t,e,null),f(e,l),n=!0,r||(a=x(e,"click",i),r=!0)},p(o,c){s=o;const u={};c[0]&2048&&(u.member=s[27]),t.$set(u)},i(o){n||(C(t.$$.fragment,o),n=!0)},o(o){q(t.$$.fragment,o),n=!1},d(o){o&&$(e),L(t),r=!1,a()}}}function Yr(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-1pjlcg7")},m(n,r){w(n,e,r),I(t,e,null),l=!0},p:j,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&$(e),L(t)}}}function Gr(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:Yr,then:Rr,catch:Tr,error:33,blocks:[,,,]};return Ye(s[12](1),l),{c(){e=_("div"),l.block.c(),d(e,"class","groupchat svelte-1pjlcg7")},m(n,r){w(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,r){s=n,et(l,s,r)},i(n){t||(C(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&$(e),l.block.d(),l.token=null,l=null}}}function Kr(s,e,t){let l,n,r,a,i,o,c;A(s,We,B=>t(7,l=B)),A(s,$e,B=>t(8,n=B)),A(s,fe,B=>t(23,r=B)),A(s,re,B=>t(9,a=B)),A(s,Je,B=>t(24,i=B)),A(s,jt,B=>t(10,o=B)),A(s,Ge,B=>t(11,c=B));let u=0,{posts:p=[]}=e,m=0,h=!1,v=null,b="",g,k=0,y=!0;async function E(B){if(n==="livechat"){ie({cmd:"direct",val:{cmd:"set_chat_state",val:{state:1,chatid:n}}});return}if(t(2,h=!0),B===void 0)t(0,p=[]);else{let H=B+Math.floor(k/25),K=k%25;try{let J=`posts/${n}?autoget&page=`;pt&&(J=encodeURIComponent(J));const F=await fetch(`${Te}${J}${H}`,{headers:i});if(!F.ok)throw new Error("Response code is not OK; code is "+F.status);const xe=await F.json();let Re=xe.autoget;Re.splice(0,K),t(3,v=xe.pages);let tl,ll;if(K>0&&m<v){if(tl=await fetch(`${Te}${J}${H+1}`),!F.ok)throw new Error("Overflow response code is not OK; code is "+F.status);ll=await tl.json(),Re=Re.concat(ll.autoget.slice(0,K))}for(const _t of Re)p.push({id:u++,post_id:_t.post_id,user:_t.u,content:_t.p,date:_t.t.e});t(1,m=B)}catch(J){throw t(2,h=!1),J}}return ie({cmd:"direct",val:{cmd:"set_chat_state",val:{state:1,chatid:n}}}),t(0,p),t(2,h=!1),p}function P(B){p.unshift({id:u++,...B}),t(0,p)}function R(){W.on("direct",B=>{if(r==="groupchat"&&B.val.state===2){if(B.val.post_origin!==n)return;P({post_id:B.val._id,user:B.val.u,content:B.val.p,date:B.val.t.e}),k++,t(0,p),a.sfx&&(B.val.u,a.name)}if(r==="groupchat"&&B.val.state===0){if(B.val.chatid!==n)return;P({post_id:u++,user:"Server",content:`${B.val.u} left ${l}.`,date:new Date().getTime()/1e3})}if(r==="groupchat"&&B.val.state===1){if(B.val.chatid!==n)return;P({post_id:u++,user:"Server",content:`${B.val.u} joined ${l}!`,date:new Date().getTime()/1e3})}B.val.mode==="delete"&&t(0,p=p.filter(H=>H.post_id!==B.val.id))})}W.ws.readyState===1?R():W.ws.addEventListener("open",R);const M=()=>{t(6,y=!y)},T=()=>{o+1500<new Date*1&&(jt.set(new Date*1),W.send({cmd:"direct",val:{cmd:"set_chat_state",val:{chatid:n,state:100}},listener:"typing_indicator"}))},U=B=>{B.key=="Enter"&&!Fe&&(B.preventDefault(),document.getElementById("submitpost").click())};function N(B){De[B?"unshift":"push"](()=>{g=B,t(5,g)})}const V=B=>{if(t(4,b=""),!B.target[0].value.trim())return t(4,b="You cannot send an empty post!"),!1;Be.set(!0),B.target[1].disabled=!0,W.send({cmd:"direct",val:{cmd:"post_chat",val:{p:B.target[0].value,chatid:n}},listener:"post_chat"});const H=W.on("statuscode",K=>{K.listener==="post_chat"&&(W.off(H),Be.set(!1),B.target[1].disabled=!1,K.val==="I:100 | OK"?(B.target[0].value="",B.target[0].rows="1",B.target[0].style.height="45px"):K.val==="E:106 | Too many requests"?t(4,b="You're posting too fast!"):t(4,b="Unexpected "+K.val+" error!"))});return!1},ne=()=>E(m+1),ee=B=>{ue.set("GC_Member"),D.set(!0),Vt.set(B)},ce=()=>{ue.set("AddMember"),D.set(!0)};return s.$$set=B=>{"posts"in B&&t(0,p=B.posts)},[p,m,h,v,b,g,y,l,n,a,o,c,E,M,T,U,N,V,ne,ee,ce]}class Gn extends Z{constructor(e){super(),X(this,e,Kr,Gr,Q,{posts:0},null,[-1,-1])}}const Ht={0:"User",1:"Low-level Moderator",2:"Moderator",3:"Administrator",4:"Sysadmin"};function fn(s,e,t){const l=s.slice();return l[14]=e[t],l}function Jr(s){let e,t,l,n;return e=new oe({props:{$$slots:{default:[Fr]},$$scope:{ctx:s}}}),l=new oe({props:{$$slots:{default:[Qr]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=S(),O(l.$$.fragment)},m(r,a){I(e,r,a),w(r,t,a),I(l,r,a),n=!0},p(r,a){const i={};a&262156&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const o={};a&262144&&(o.$$scope={dirty:a,ctx:r}),l.$set(o)},i(r){n||(C(e.$$.fragment,r),C(l.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),q(l.$$.fragment,r),n=!1},d(r){L(e,r),r&&$(t),L(l,r)}}}function Fr(s){let e,t,l,n,r,a,i,o,c=s[3].includes(s[2])?"Online":"Offline",u,p,m,h;return t=new tt({props:{online:s[3].includes(s[2]),icon:-2,alt:s[2]+"'s profile picture",size:1.4}}),{c(){e=_("div"),O(t.$$.fragment),l=S(),n=_("div"),r=_("h1"),a=z(s[2]),i=S(),o=_("div"),u=z(c),p=S(),m=_("div"),m.textContent="Unknown",d(r,"class","profile-username svelte-7yc5pd"),d(o,"class","profile-active svelte-7yc5pd"),d(m,"class","profile-role svelte-7yc5pd"),d(n,"class","profile-header-info svelte-7yc5pd"),d(e,"class","profile-header svelte-7yc5pd")},m(v,b){w(v,e,b),I(t,e,null),f(e,l),f(e,n),f(n,r),f(r,a),f(n,i),f(n,o),f(o,u),f(n,p),f(n,m),h=!0},p(v,b){const g={};b&12&&(g.online=v[3].includes(v[2])),b&4&&(g.alt=v[2]+"'s profile picture"),t.$set(g),(!h||b&4)&&G(a,v[2]),(!h||b&12)&&c!==(c=v[3].includes(v[2])?"Online":"Offline")&&G(u,c)},i(v){h||(C(t.$$.fragment,v),h=!0)},o(v){q(t.$$.fragment,v),h=!1},d(v){v&&$(e),L(t)}}}function Qr(s){let e,t,l,n,r=s[17]+"",a,i,o,c;return{c(){e=_("h2"),e.textContent="Error",t=z(`\r
			We couldn't get this user's profile info.\r
			`),l=_("pre"),n=_("code"),a=z(r),i=z(`\r
			Try again. If this issue persists,\r
			`),o=_("a"),o.textContent="create an issue on Meower Svelte's issue tracker",c=z(" with the error code shown above."),d(o,"href","https://github.com/Meower-Media-Co/Meower-Svelte/issues/new")},m(u,p){w(u,e,p),w(u,t,p),w(u,l,p),f(l,n),f(n,a),w(u,i,p),w(u,o,p),w(u,c,p)},p:j,d(u){u&&$(e),u&&$(t),u&&$(l),u&&$(i),u&&$(o),u&&$(c)}}}function Vr(s){let e,t,l,n,r,a,i,o,c,u,p,m;e=new oe({props:{$$slots:{default:[Xr]},$$scope:{ctx:s}}});let h=s[13].quote&&Zr(s);const v=[lo,to],b=[];function g(y,E){return y[0]?0:y[2]===y[1].name?1:-1}~(n=g(s))&&(r=b[n]=v[n](s));let k=s[1].name&&s[2]!==s[1].name&&pn(s);return{c(){O(e.$$.fragment),t=S(),h&&h.c(),l=S(),r&&r.c(),a=S(),i=_("button"),i.textContent="View recent posts",o=S(),k&&k.c(),c=Ce(),d(i,"class","long svelte-7yc5pd"),d(i,"title","View Recet Posts")},m(y,E){I(e,y,E),w(y,t,E),h&&h.m(y,E),w(y,l,E),~n&&b[n].m(y,E),w(y,a,E),w(y,i,E),w(y,o,E),k&&k.m(y,E),w(y,c,E),u=!0,p||(m=x(i,"click",s[10]),p=!0)},p(y,E){const P={};E&262158&&(P.$$scope={dirty:E,ctx:y}),e.$set(P),y[13].quote&&h.p(y,E);let R=n;n=g(y),n===R?~n&&b[n].p(y,E):(r&&(te(),q(b[R],1,1,()=>{b[R]=null}),le()),~n?(r=b[n],r?r.p(y,E):(r=b[n]=v[n](y),r.c()),C(r,1),r.m(a.parentNode,a)):r=null),y[1].name&&y[2]!==y[1].name?k?k.p(y,E):(k=pn(y),k.c(),k.m(c.parentNode,c)):k&&(k.d(1),k=null)},i(y){u||(C(e.$$.fragment,y),C(h),C(r),u=!0)},o(y){q(e.$$.fragment,y),q(h),q(r),u=!1},d(y){L(e,y),y&&$(t),h&&h.d(y),y&&$(l),~n&&b[n].d(y),y&&$(a),y&&$(i),y&&$(o),k&&k.d(y),y&&$(c),p=!1,m()}}}function Xr(s){let e,t,l,n,r,a=s[13]._id+"",i,o,c,u=s[3].includes(s[13]._id)?"Online":"Offline",p,m,h,v=(Ht[s[13].lvl]||"Unknown")+"",b,g;return t=new tt({props:{online:s[3].includes(s[13]._id),icon:s[2]===s[1].name?s[1].pfp_data:s[13].pfp_data,alt:s[13]._id+"'s profile picture",size:1.4}}),{c(){e=_("div"),O(t.$$.fragment),l=S(),n=_("div"),r=_("h1"),i=z(a),o=S(),c=_("div"),p=z(u),m=S(),h=_("div"),b=z(v),d(r,"class","profile-username svelte-7yc5pd"),d(c,"class","profile-active svelte-7yc5pd"),d(h,"class","profile-role svelte-7yc5pd"),d(n,"class","profile-header-info svelte-7yc5pd"),d(e,"class","profile-header svelte-7yc5pd")},m(k,y){w(k,e,y),I(t,e,null),f(e,l),f(e,n),f(n,r),f(r,i),f(n,o),f(n,c),f(c,p),f(n,m),f(n,h),f(h,b),g=!0},p(k,y){const E={};y&8&&(E.online=k[3].includes(k[13]._id)),y&6&&(E.icon=k[2]===k[1].name?k[1].pfp_data:k[13].pfp_data),t.$set(E),(!g||y&8)&&u!==(u=k[3].includes(k[13]._id)?"Online":"Offline")&&G(p,u)},i(k){g||(C(t.$$.fragment,k),g=!0)},o(k){q(t.$$.fragment,k),g=!1},d(k){k&&$(e),L(t)}}}function Zr(s){let e,t;return e=new oe({props:{$$slots:{default:[eo]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,n){const r={};n&262144&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function eo(s){let e,t,l,n,r,a=s[13].quote+"",i,o;return{c(){e=_("h3"),e.textContent="Quote",t=S(),l=_("p"),n=z('"'),r=_("i"),i=z(a),o=z('"')},m(c,u){w(c,e,u),w(c,t,u),w(c,l,u),f(l,n),f(l,r),f(r,i),f(l,o)},p:j,d(c){c&&$(e),c&&$(t),c&&$(l)}}}function to(s){let e,t,l,n=s[13].quote?"Update Quote":"Set Quote",r,a,i;return{c(){e=_("button"),e.textContent="Change Profile Picture",t=S(),l=_("button"),r=z(n),d(e,"class","long svelte-7yc5pd"),d(e,"title","Change Profile Picture"),d(l,"class","long svelte-7yc5pd"),d(l,"title",s[13].quote?"Update Quote":"Set Quote")},m(o,c){w(o,e,c),w(o,t,c),w(o,l,c),f(l,r),a||(i=[x(e,"click",s[8]),x(l,"click",s[9])],a=!0)},p:j,i:j,o:j,d(o){o&&$(e),o&&$(t),o&&$(l),a=!1,se(i)}}}function lo(s){let e,t;return e=new oe({props:{$$slots:{default:[no]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,n){const r={};n&262147&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function dn(s){let e,t,l,n,r;t=new tt({props:{online:!1,icon:s[14],alt:"Profile picture "+s[14]}});function a(){return s[7](s[14])}return{c(){e=_("span"),O(t.$$.fragment),d(e,"class","pfp svelte-7yc5pd"),me(e,"selected",s[1].pfp_data===s[14])},m(i,o){w(i,e,o),I(t,e,null),l=!0,n||(r=x(e,"click",a),n=!0)},p(i,o){s=i,o&18&&me(e,"selected",s[1].pfp_data===s[14])},i(i){l||(C(t.$$.fragment,i),l=!0)},o(i){q(t.$$.fragment,i),l=!1},d(i){i&&$(e),L(t),n=!1,r()}}}function no(s){let e,t,l,n,r=s[4],a=[];for(let o=0;o<r.length;o+=1)a[o]=dn(fn(s,r,o));const i=o=>q(a[o],1,1,()=>{a[o]=null});return{c(){e=_("h2"),e.textContent="Profile Picture",t=S(),l=_("div");for(let o=0;o<a.length;o+=1)a[o].c();d(l,"id","pfp-list"),d(l,"class","svelte-7yc5pd")},m(o,c){w(o,e,c),w(o,t,c),w(o,l,c);for(let u=0;u<a.length;u+=1)a[u].m(l,null);n=!0},p(o,c){if(c&83){r=o[4];let u;for(u=0;u<r.length;u+=1){const p=fn(o,r,u);a[u]?(a[u].p(p,c),C(a[u],1)):(a[u]=dn(p),a[u].c(),C(a[u],1),a[u].m(l,null))}for(te(),u=r.length;u<a.length;u+=1)i(u);le()}},i(o){if(!n){for(let c=0;c<r.length;c+=1)C(a[c]);n=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)q(a[c]);n=!1},d(o){o&&$(e),o&&$(t),o&&$(l),Kt(a,o)}}}function pn(s){let e,t,l;return{c(){e=_("button"),e.textContent="Report User",d(e,"class","long svelte-7yc5pd"),d(e,"title","Report User")},m(n,r){w(n,e,r),t||(l=x(e,"click",s[11]),t=!0)},p:j,d(n){n&&$(e),t=!1,l()}}}function so(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-7yc5pd")},m(n,r){w(n,e,r),I(t,e,null),l=!0},p:j,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&$(e),L(t)}}}function ro(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:so,then:Vr,catch:Jr,value:13,error:17,blocks:[,,,]};return Ye(s[5](),l),{c(){e=_("div"),l.block.c(),d(e,"class","OtherProfile")},m(n,r){w(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[r]){s=n,et(l,s,r)},i(n){t||(C(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&$(e),l.block.d(),l.token=null,l=null}}}function oo(s,e,t){let l,n,r,a;A(s,re,g=>t(1,l=g)),A(s,je,g=>t(12,n=g)),A(s,Ke,g=>t(2,r=g)),A(s,Oe,g=>t(3,a=g));const i=new Array(28).fill().map((g,k)=>k+1);let o=!1;async function c(){let g=`users/${r}`;pt&&(g=encodeURIComponent(g));const k=await fetch(`${Te}${g}`);if(!k.ok)throw new Error("Response code is not OK; code is "+k.status);return await k.json()}function u(){if(n[l.name]){const g=n;delete g[l.name],je.set(g)}Ue()}return[o,l,r,a,i,c,u,g=>{t(0,o=!1),Y(re,l.pfp_data=g,l),u()},()=>t(0,o=!0),()=>{ue.set("setQuote"),D.set(!0)},()=>{window.scrollTo(0,0),fe.set("blank"),we().then(()=>fe.set("recent"))},()=>{ue.set("reportUser"),D.set(!0)}]}class io extends Z{constructor(e){super(),X(this,e,oo,ro,Q,{})}}function mn(s,e,t){const l=s.slice();return l[9]=e[t],l}function ao(s){let e,t;return e=new oe({props:{$$slots:{default:[co]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,n){const r={};n&8208&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function co(s){let e,t,l,n,r,a,i=s[12]+"",o;return{c(){e=_("h1"),t=z(s[4]),l=z("'s Recent Posts"),n=z(`\r
			Error loading posts. Please try again.\r
			`),r=_("pre"),a=_("code"),o=z(i)},m(c,u){w(c,e,u),f(e,t),f(e,l),w(c,n,u),w(c,r,u),f(r,a),f(a,o)},p(c,u){u&16&&G(t,c[4])},d(c){c&&$(e),c&&$(n),c&&$(r)}}}function uo(s){let e,t,l,n,r,a,i,o,c;e=new oe({props:{$$slots:{default:[fo]},$$scope:{ctx:s}}});const u=[mo,po],p=[];function m(g,k){return g[0].length<1?0:1}l=m(s),n=p[l]=u[l](s);const h=[go,_o],v=[];function b(g,k){return g[2]?0:g[3]&&g[3]>g[1]?1:-1}return~(i=b(s))&&(o=v[i]=h[i](s)),{c(){O(e.$$.fragment),t=S(),n.c(),r=S(),a=_("div"),o&&o.c(),d(a,"class","center svelte-1wbtcfa")},m(g,k){I(e,g,k),w(g,t,k),p[l].m(g,k),w(g,r,k),w(g,a,k),~i&&v[i].m(a,null),c=!0},p(g,k){const y={};k&8208&&(y.$$scope={dirty:k,ctx:g}),e.$set(y);let E=l;l=m(g),l===E?p[l].p(g,k):(te(),q(p[E],1,1,()=>{p[E]=null}),le(),n=p[l],n?n.p(g,k):(n=p[l]=u[l](g),n.c()),C(n,1),n.m(r.parentNode,r));let P=i;i=b(g),i===P?~i&&v[i].p(g,k):(o&&(te(),q(v[P],1,1,()=>{v[P]=null}),le()),~i?(o=v[i],o?o.p(g,k):(o=v[i]=h[i](g),o.c()),C(o,1),o.m(a,null)):o=null)},i(g){c||(C(e.$$.fragment,g),C(n),C(o),c=!0)},o(g){q(e.$$.fragment,g),q(n),q(o),c=!1},d(g){L(e,g),g&&$(t),p[l].d(g),g&&$(r),g&&$(a),~i&&v[i].d()}}}function fo(s){let e,t,l,n,r,a;return{c(){e=_("h1"),t=z(s[4]),l=z("'s Recent Posts"),n=z(`\r
			Here are `),r=z(s[4]),a=z("'s recent posts.")},m(i,o){w(i,e,o),f(e,t),f(e,l),w(i,n,o),w(i,r,o),w(i,a,o)},p(i,o){o&16&&G(t,i[4]),o&16&&G(r,i[4])},d(i){i&&$(e),i&&$(n),i&&$(r),i&&$(a)}}}function po(s){let e=[],t=new Map,l,n,r=s[0];const a=i=>i[9].id;for(let i=0;i<r.length;i+=1){let o=mn(s,r,i),c=a(o);t.set(c,e[i]=_n(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=Ce()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);w(i,l,o),n=!0},p(i,o){if(o&1){r=i[0],te();for(let c=0;c<e.length;c+=1)e[c].r();e=dt(e,o,a,1,i,r,t,l.parentNode,ft,_n,l,mn);for(let c=0;c<e.length;c+=1)e[c].a();le()}},i(i){if(!n){for(let o=0;o<r.length;o+=1)C(e[o]);n=!0}},o(i){for(let o=0;o<e.length;o+=1)q(e[o]);n=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&$(l)}}}function mo(s){let e,t;return{c(){e=z(s[4]),t=z(" hasn't made any posts yet.")},m(l,n){w(l,e,n),w(l,t,n)},p(l,n){n&16&&G(e,l[4])},i:j,o:j,d(l){l&&$(e),l&&$(t)}}}function _n(s,e){let t,l,n,r,a,i=j,o;return l=new lt({props:{post:e[9]}}),{key:s,first:null,c(){t=_("div"),O(l.$$.fragment),n=S(),this.first=t},m(c,u){w(c,t,u),I(l,t,null),f(t,n),o=!0},p(c,u){e=c;const p={};u&1&&(p.post=e[9]),l.$set(p)},r(){a=t.getBoundingClientRect()},f(){ut(t),i(),Ze(t,a)},a(){i(),i=ct(t,a,mt,{duration:250})},i(c){o||(C(l.$$.fragment,c),c&&Se(()=>{r||(r=ye(t,Ee,{y:-50,duration:250},!0)),r.run(1)}),o=!0)},o(c){q(l.$$.fragment,c),c&&(r||(r=ye(t,Ee,{y:-50,duration:250},!1)),r.run(0)),o=!1},d(c){c&&$(t),L(l),c&&r&&r.end()}}}function _o(s){let e,t,l;return{c(){e=_("button"),e.textContent="Load More",d(e,"class","load-more svelte-1wbtcfa")},m(n,r){w(n,e,r),t||(l=x(e,"click",s[6]),t=!0)},p:j,i:j,o:j,d(n){n&&$(e),t=!1,l()}}}function go(s){let e,t;return e=new be({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function ho(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-1wbtcfa")},m(n,r){w(n,e,r),I(t,e,null),l=!0},p:j,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&$(e),L(t)}}}function vo(s){let e,t,l={ctx:s,current:null,token:null,hasCatch:!0,pending:ho,then:uo,catch:ao,error:12,blocks:[,,,]};return Ye(s[5](1),l),{c(){e=_("div"),l.block.c(),d(e,"class","posts svelte-1wbtcfa")},m(n,r){w(n,e,r),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,t=!0},p(n,[r]){s=n,et(l,s,r)},i(n){t||(C(l.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=l.blocks[r];q(a)}t=!1},d(n){n&&$(e),l.block.d(),l.token=null,l=null}}}let gn=0;function bo(s,e,t){let l;A(s,Ke,m=>t(4,l=m));let n=0,{posts:r=[]}=e,a=0,i=!1,o=null;async function c(m){if(t(2,i=!0),m===void 0)t(0,r=[]);else{let h=m+Math.floor(gn/25),v=gn%25;try{let b=`users/${l}/posts?autoget&page=`;pt&&(b=encodeURIComponent(b));const g=await fetch(`${Te}${b}${h}`);if(!g.ok)throw new Error("Response code is not OK; code is "+g.status);const k=await g.json();let y=k.autoget;y.splice(0,v),t(3,o=k.pages);let E,P;v>0&&a<o;for(const R of y)r.push({id:n++,post_id:R.post_id,user:R.u,content:R.p,date:R.t.e});t(1,a=m)}catch(b){throw t(2,i=!1),b}}return t(0,r),t(2,i=!1),r}function u(){W.on("direct",m=>{m.val.mode==="delete"&&t(0,r=r.filter(h=>h.post_id!==m.val.id))})}W.ws.readyState===1?u():W.ws.addEventListener("open",u);const p=()=>c(a+1);return s.$$set=m=>{"posts"in m&&t(0,r=m.posts)},[r,a,i,o,l,c,p]}class ko extends Z{constructor(e){super(),X(this,e,bo,vo,Q,{posts:0})}}function $o(s){let e,t;return{c(){e=_("h1"),e.textContent="Settings",t=z(`\r
	You can change your settings here. These will save to your account, so they will carry over into other clients.`)},m(l,n){w(l,e,n),w(l,t,n)},p:j,d(l){l&&$(e),l&&$(t)}}}function wo(s){let e,t,l,n,r,a=s[0].layout+"",i,o,c,u;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h2"),n.textContent="Layout",r=z(`\r
	The layout is currently set to `),i=z(a),o=z("."),d(t,"class","circle settings svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(p,m){w(p,e,m),f(e,t),w(p,l,m),w(p,n,m),w(p,r,m),w(p,i,m),w(p,o,m),c||(u=x(t,"click",s[3]),c=!0)},p(p,m){m&1&&a!==(a=p[0].layout+"")&&G(i,a)},d(p){p&&$(e),p&&$(l),p&&$(n),p&&$(r),p&&$(i),p&&$(o),c=!1,u()}}}function yo(s){let e,t,l,n,r,a=s[0].theme+"",i,o,c,u;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h2"),n.textContent="Theme",r=z(`\r
	The theme is currently set to `),i=z(a),o=z("."),d(t,"class","circle settings svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(p,m){w(p,e,m),f(e,t),w(p,l,m),w(p,n,m),w(p,r,m),w(p,i,m),w(p,o,m),c||(u=x(t,"click",s[4]),c=!0)},p(p,m){m&1&&a!==(a=p[0].theme+"")&&G(i,a)},d(p){p&&$(e),p&&$(l),p&&$(n),p&&$(r),p&&$(i),p&&$(o),c=!1,u()}}}function Co(s){let e,t,l,n,r,a,i=s[0].mode?"disabled":"enabled",o,c,u,p;return{c(){e=_("div"),t=_("input"),n=S(),r=_("h2"),r.textContent="Dark Mode",a=z(`\r
	Dark mode is currently `),o=z(i),c=z("."),d(t,"type","checkbox"),t.checked=l=!s[0].mode,d(t,"class","svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(m,h){w(m,e,h),f(e,t),w(m,n,h),w(m,r,h),w(m,a,h),w(m,o,h),w(m,c,h),u||(p=x(t,"change",s[5]),u=!0)},p(m,h){h&1&&l!==(l=!m[0].mode)&&(t.checked=l),h&1&&i!==(i=m[0].mode?"disabled":"enabled")&&G(o,i)},d(m){m&&$(e),m&&$(n),m&&$(r),m&&$(a),m&&$(o),m&&$(c),u=!1,p()}}}function So(s){let e,t,l,n,r,a,i=s[0].sfx?"enabled":"disabled",o,c,u,p;return{c(){e=_("div"),t=_("input"),n=S(),r=_("h2"),r.textContent="Sound Effects",a=z(`\r
	Sound effects are currently `),o=z(i),c=z("."),d(t,"type","checkbox"),t.checked=l=s[0].sfx,d(t,"class","svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(m,h){w(m,e,h),f(e,t),w(m,n,h),w(m,r,h),w(m,a,h),w(m,o,h),w(m,c,h),u||(p=x(t,"change",s[6]),u=!0)},p(m,h){h&1&&l!==(l=m[0].sfx)&&(t.checked=l),h&1&&i!==(i=m[0].sfx?"enabled":"disabled")&&G(o,i)},d(m){m&&$(e),m&&$(n),m&&$(r),m&&$(a),m&&$(o),m&&$(c),u=!1,p()}}}function hn(s){let e,t,l,n;return e=new oe({props:{$$slots:{default:[qo]},$$scope:{ctx:s}}}),l=new oe({props:{$$slots:{default:[jo]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=S(),O(l.$$.fragment)},m(r,a){I(e,r,a),w(r,t,a),I(l,r,a),n=!0},p(r,a){const i={};a&518&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const o={};a&518&&(o.$$scope={dirty:a,ctx:r}),l.$set(o)},i(r){n||(C(e.$$.fragment,r),C(l.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),q(l.$$.fragment,r),n=!1},d(r){L(e,r),r&&$(t),L(l,r)}}}function qo(s){let e,t,l,n,r,a,i;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h2"),n.textContent="Change Password",r=z(`\r
	Change your account password.`),d(t,"class","circle settings svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(o,c){w(o,e,c),f(e,t),w(o,l,c),w(o,n,c),w(o,r,c),a||(i=x(t,"click",s[7]),a=!0)},p:j,d(o){o&&$(e),o&&$(l),o&&$(n),o&&$(r),a=!1,i()}}}function jo(s){let e,t,l,n,r,a,i;return{c(){e=_("div"),t=_("button"),l=S(),n=_("h2"),n.textContent="Delete Account",r=z(`\r
	Permanently delete your Meower account. THIS CANNOT BE UNDONE.`),d(t,"class","circle settings svelte-1undfiq"),d(e,"class","settings-controls svelte-1undfiq")},m(o,c){w(o,e,c),f(e,t),w(o,l,c),w(o,n,c),w(o,r,c),a||(i=x(t,"click",s[8]),a=!0)},p:j,d(o){o&&$(e),o&&$(l),o&&$(n),o&&$(r),a=!1,i()}}}function Po(s){let e,t,l,n,r,a,i,o,c,u,p,m,h;e=new oe({props:{$$slots:{default:[$o]},$$scope:{ctx:s}}}),l=new oe({props:{$$slots:{default:[wo]},$$scope:{ctx:s}}}),r=new oe({props:{$$slots:{default:[yo]},$$scope:{ctx:s}}}),i=new oe({props:{$$slots:{default:[Co]},$$scope:{ctx:s}}}),c=new oe({props:{$$slots:{default:[So]},$$scope:{ctx:s}}});let v=s[0].name&&hn(s);return{c(){O(e.$$.fragment),t=S(),O(l.$$.fragment),n=S(),O(r.$$.fragment),a=S(),O(i.$$.fragment),o=S(),O(c.$$.fragment),u=S(),v&&v.c(),p=S(),m=_("div"),d(m,"class","eee")},m(b,g){I(e,b,g),w(b,t,g),I(l,b,g),w(b,n,g),I(r,b,g),w(b,a,g),I(i,b,g),w(b,o,g),I(c,b,g),w(b,u,g),v&&v.m(b,g),w(b,p,g),w(b,m,g),h=!0},p(b,[g]){const k={};g&512&&(k.$$scope={dirty:g,ctx:b}),e.$set(k);const y={};g&513&&(y.$$scope={dirty:g,ctx:b}),l.$set(y);const E={};g&513&&(E.$$scope={dirty:g,ctx:b}),r.$set(E);const P={};g&513&&(P.$$scope={dirty:g,ctx:b}),i.$set(P);const R={};g&513&&(R.$$scope={dirty:g,ctx:b}),c.$set(R),b[0].name?v?(v.p(b,g),g&1&&C(v,1)):(v=hn(b),v.c(),C(v,1),v.m(p.parentNode,p)):v&&(te(),q(v,1,1,()=>{v=null}),le())},i(b){h||(C(e.$$.fragment,b),C(l.$$.fragment,b),C(r.$$.fragment,b),C(i.$$.fragment,b),C(c.$$.fragment,b),C(v),h=!0)},o(b){q(e.$$.fragment,b),q(l.$$.fragment,b),q(r.$$.fragment,b),q(i.$$.fragment,b),q(c.$$.fragment,b),q(v),h=!1},d(b){L(e,b),b&&$(t),L(l,b),b&&$(n),L(r,b),b&&$(a),L(i,b),b&&$(o),L(c,b),b&&$(u),v&&v.d(b),b&&$(p),b&&$(m)}}}function zo(s,e,t){let l,n,r;return A(s,re,m=>t(0,l=m)),A(s,ue,m=>t(1,n=m)),A(s,D,m=>t(2,r=m)),[l,n,r,()=>{const m=l;m.layout=m.layout==="new"?"old":"new",re.set(m),Ue()},()=>{const m=l;m.theme=m.theme==="orange"?"blue":"orange",re.set(m),Ue()},()=>{const m=l;m.mode=!m.mode,re.set(m),Ue()},()=>{const m=l;m.sfx=!m.sfx,re.set(m),Ue()},()=>{Y(ue,n="changePassword",n),Y(D,r=!0,r)},()=>{Y(ue,n="deleteAccount",n),Y(D,r=!0,r)}]}class Eo extends Z{constructor(e){super(),X(this,e,zo,Po,Q,{})}}var Kn="./assets/meowy.93c25f40.svg";function vn(s,e,t){const l=s.slice();return l[1]=e[t],l}function bn(s){let e,t;return{c(){e=_("img"),d(e,"class","cat svelte-vuknl4"),d(e,"alt","MEOW"),d(e,"title","MEOW"),ve(e.src,t=Kn)||d(e,"src",t),d(e,"height","100"),Ae(e,"left",(s[1].x||0)+"vw",!1),Ae(e,"top",(s[1].y||0)+"vh",!1),Ae(e,"animation-delay",-(s[1].offset||0)+"s",!1),Ae(e,"animation-duration",s[1].time+"s",!1)},m(l,n){w(l,e,n)},p:j,d(l){l&&$(e)}}}function Mo(s){let e,t=s[0],l=[];for(let n=0;n<t.length;n+=1)l[n]=bn(vn(s,t,n));return{c(){e=_("div");for(let n=0;n<l.length;n+=1)l[n].c();d(e,"class","cats svelte-vuknl4")},m(n,r){w(n,e,r);for(let a=0;a<l.length;a+=1)l[a].m(e,null)},p(n,[r]){if(r&1){t=n[0];let a;for(a=0;a<t.length;a+=1){const i=vn(n,t,a);l[a]?l[a].p(i,r):(l[a]=bn(i),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},i:j,o:j,d(n){n&&$(e),Kt(l,n)}}}function Io(s){return[new Array(100).fill({}).map(t=>({x:Math.random()*100,y:Math.random()*100,offset:Math.random()*15,time:5+Math.random()*10}))]}class Lo extends Z{constructor(e){super(),X(this,e,Io,Mo,Q,{})}}function Oo(s){let e,t,l,n,r;return n=new Lo({}),{c(){e=_("div"),t=_("div"),t.textContent="GROUP CAT 2.0!!!!",l=S(),O(n.$$.fragment),d(t,"class","message svelte-w78hki")},m(a,i){w(a,e,i),f(e,t),f(e,l),I(n,e,null),r=!0},p:j,i(a){r||(C(n.$$.fragment,a),r=!0)},o(a){q(n.$$.fragment,a),r=!1},d(a){a&&$(e),L(n)}}}class To extends Z{constructor(e){super(),X(this,e,null,Oo,Q,{})}}var el="./assets/logo.22ae43ae.svg",xo="./assets/home.a6e91ee5.svg",Ro="./assets/chat.8f7a11c0.svg",kn="./assets/mail.adf4cbe0.svg",$n="./assets/mail_new.2e8332f8.svg",No="./assets/profile.f90d67b3.svg",Ao="./assets/settings.10cdbd27.svg",Uo="./assets/logout.32557676.svg";function Do(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v,b,g,k,y,E,P,R,M,T,U,N,V,ne,ee,ce,B,H;return{c(){e=_("div"),t=_("div"),l=_("span"),n=_("img"),a=S(),i=_("button"),o=_("img"),u=S(),p=_("button"),m=_("img"),v=S(),b=_("button"),g=_("img"),y=S(),E=_("button"),P=_("img"),M=S(),T=_("button"),U=_("img"),V=S(),ne=_("button"),ee=_("img"),d(n,"alt","Meower"),ve(n.src,r=el)||d(n,"src",r),d(n,"draggable",!1),d(n,"height","100%"),d(n,"width","auto"),d(n,"class","svelte-24kvyj"),d(l,"class","logo-inner svelte-24kvyj"),d(t,"class","logo svelte-24kvyj"),ve(o.src,c=xo)||d(o,"src",c),d(o,"alt","Home"),d(o,"width","90%"),d(o,"height","auto"),d(o,"draggable",!1),d(i,"class","home-btn round svelte-24kvyj"),ve(m.src,h=s[0].unread_inbox?$n:kn)||d(m,"src",h),d(m,"alt","Inbox Messages"),d(m,"width","90%"),d(m,"height","auto"),d(m,"draggable",!1),d(p,"class","gc-btn round svelte-24kvyj"),ve(g.src,k=Ro)||d(g,"src",k),d(g,"alt","Group Chats"),d(g,"width","90%"),d(g,"height","auto"),d(g,"draggable",!1),d(b,"class","gc-btn round svelte-24kvyj"),ve(P.src,R=No)||d(P,"src",R),d(P,"alt","Profile"),d(P,"width","90%"),d(P,"height","auto"),d(P,"draggable",!1),d(E,"class","profile-btn round svelte-24kvyj"),ve(U.src,N=Ao)||d(U,"src",N),d(U,"alt","Settings"),d(U,"width","90%"),d(U,"height","auto"),d(U,"draggable",!1),d(T,"class","settings-btn round svelte-24kvyj"),ve(ee.src,ce=Uo)||d(ee,"src",ce),d(ee,"alt","Log out"),d(ee,"width","90%"),d(ee,"height","auto"),d(ee,"draggable",!1),d(ne,"class","logout-btn round svelte-24kvyj"),d(e,"class","sidebar svelte-24kvyj")},m(K,J){w(K,e,J),f(e,t),f(t,l),f(l,n),f(e,a),f(e,i),f(i,o),f(e,u),f(e,p),f(p,m),f(e,v),f(e,b),f(b,g),f(e,y),f(e,E),f(E,P),f(e,M),f(e,T),f(T,U),f(e,V),f(e,ne),f(ne,ee),B||(H=[x(l,"click",s[3]),x(i,"click",s[4]),x(p,"click",s[5]),x(b,"click",s[6]),x(E,"click",s[7]),x(T,"click",s[8]),x(ne,"click",s[9])],B=!0)},p(K,[J]){J&1&&!ve(m.src,h=K[0].unread_inbox?$n:kn)&&d(m,"src",h)},i:j,o:j,d(K){K&&$(e),B=!1,se(H)}}}function Bo(s,e,t){let l,n,r,a;A(s,$e,b=>t(10,l=b)),A(s,fe,b=>t(11,n=b)),A(s,re,b=>t(0,r=b)),A(s,Ke,b=>t(1,a=b));function i(b,g=!0){if(!r.name&&b!=="home"&&b!=="settings"){ue.set("signup"),D.set(!0);return}g&&window.scrollTo(0,0),n==="groupchat"&&ie({cmd:"direct",val:{cmd:"set_chat_state",val:{state:0,chatid:l}}}),$e.set(""),fe.set("blank"),we().then(()=>fe.set(b))}return[r,a,i,()=>i("home"),()=>i("home"),()=>i("inbox"),()=>{i(Fe?"groupcat":"chatlist")},()=>{Y(Ke,a=r.name,a),i("profile")},()=>i("settings"),()=>{ue.set("logout"),D.set(!0)}]}class Ho extends Z{constructor(e){super(),X(this,e,Bo,Do,Q,{})}}function Wo(s){let e,t,l,n,r;return{c(){e=z(`Somehow, you got to a page that doesn't exist...\r
			`),t=_("br"),l=z(`\r
			(Current page: `),n=z(s[0]),r=z(")")},m(a,i){w(a,e,i),w(a,t,i),w(a,l,i),w(a,n,i),w(a,r,i)},p(a,i){i&1&&G(n,a[0])},i:j,o:j,d(a){a&&$(e),a&&$(t),a&&$(l),a&&$(n),a&&$(r)}}}function Yo(s){let e;return{c(){e=_("div")},m(t,l){w(t,e,l)},p:j,i:j,o:j,d(t){t&&$(e)}}}function Go(s){let e,t;return e=new Gn({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Ko(s){let e,t;return e=new To({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Jo(s){let e,t;return e=new Eo({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Fo(s){let e,t;return e=new ko({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Qo(s){let e,t;return e=new io({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Vo(s){let e,t;return e=new Gn({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Xo(s){let e,t;return e=new zr({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Zo(s){let e,t;return e=new mr({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function ei(s){let e,t;return e=new lr({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function ti(s){let e,t,l,n,r,a,i,o;l=new Ho({});const c=[ei,Zo,Xo,Vo,Qo,Fo,Jo,Ko,Go,Yo,Wo],u=[];function p(m,h){return m[0]==="home"?0:m[0]==="inbox"?1:m[0]==="chatlist"?2:m[0]==="groupchat"?3:m[0]==="profile"?4:m[0]==="recent"?5:m[0]==="settings"?6:m[0]==="groupcat"?7:m[0]==="groupchat"?8:m[0]==="blank"?9:10}return a=p(s),i=u[a]=c[a](s),{c(){e=_("div"),t=_("div"),O(l.$$.fragment),n=S(),r=_("div"),i.c(),d(t,"class","sidebar svelte-w6uu6j"),d(r,"class","view svelte-w6uu6j"),d(e,"class","main-screen svelte-w6uu6j")},m(m,h){w(m,e,h),f(e,t),I(l,t,null),f(e,n),f(e,r),u[a].m(r,null),o=!0},p(m,[h]){let v=a;a=p(m),a===v?u[a].p(m,h):(te(),q(u[v],1,1,()=>{u[v]=null}),le(),i=u[a],i?i.p(m,h):(i=u[a]=c[a](m),i.c()),C(i,1),i.m(r,null))},i(m){o||(C(l.$$.fragment,m),C(i),o=!0)},o(m){q(l.$$.fragment,m),q(i),o=!1},d(m){m&&$(e),L(l),u[a].d()}}}function li(s,e,t){let l;return A(s,fe,n=>t(0,l=n)),fe.set("home"),[l]}class ni extends Z{constructor(e){super(),X(this,e,li,ti,Q,{})}}function si(s){let e,t,l,n,r,a,i,o,c,u,p;return{c(){e=_("div"),t=_("div"),l=z(`Somehow, you got to a page that doesn't exist...\r
				`),n=_("br"),r=z(`\r
				(Current page: `),a=z(s[8]),i=z(`)\r
\r
				`),o=_("div"),c=_("button"),c.textContent="Go back!",d(n,"class","svelte-slqvyn"),d(c,"class","svelte-slqvyn"),d(o,"class","buttons svelte-slqvyn"),d(t,"class","column-ui svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(m,h){w(m,e,h),f(e,t),f(t,l),f(t,n),f(t,r),f(t,a),f(t,i),f(t,o),f(o,c),u||(p=x(c,"click",s[23]),u=!0)},p(m,h){h&256&&G(a,m[8])},i:j,o:j,d(m){m&&$(e),u=!1,p()}}}function ri(s){let e;return{c(){e=_("div"),e.textContent="Let's go!",d(e,"class","fullcenter svelte-slqvyn")},m(t,l){w(t,e,l)},p:j,i:j,o:j,d(t){t&&$(e)}}}function oi(s){let e;return{c(){e=_("div")},m(t,l){w(t,e,l)},p:j,i:j,o:j,d(t){t&&$(e)}}}function ii(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v,b,g,k,y,E,P,R,M,T,U,N,V,ne,ee,ce,B,H,K;return{c(){e=_("div"),t=_("h1"),t.textContent="Welcome to Meower",l=S(),n=_("form"),r=_("input"),a=S(),i=_("br"),o=S(),c=_("input"),u=S(),p=_("p"),m=_("input"),h=S(),v=_("label"),v.textContent="Save this login",b=S(),g=_("br"),k=S(),y=_("input"),E=S(),P=_("label"),P.innerHTML='I agree to <a href="https://meower.org/legal" target="_blank" class="svelte-slqvyn">Meower&#39;s Terms of Service and Privacy Policy</a>',R=S(),M=_("span"),T=z(s[3]),U=S(),N=_("div"),V=_("button"),V.textContent="Go back",ne=S(),ee=_("button"),ce=z("Join!"),d(r,"type","text"),d(r,"placeholder","Username"),d(r,"maxlength","20"),d(r,"class","svelte-slqvyn"),d(i,"class","svelte-slqvyn"),d(c,"type","password"),d(c,"placeholder","Password"),d(c,"maxlength","64"),d(c,"class","svelte-slqvyn"),d(m,"id","remember-me"),d(m,"type","checkbox"),d(m,"class","svelte-slqvyn"),d(v,"for","remember-me"),d(v,"class","svelte-slqvyn"),d(g,"class","svelte-slqvyn"),d(y,"id","accept-terms"),d(y,"type","checkbox"),d(y,"class","svelte-slqvyn"),d(P,"for","accept-terms"),d(P,"class","svelte-slqvyn"),d(p,"class","checkboxes svelte-slqvyn"),d(M,"class","login-status svelte-slqvyn"),d(V,"type","button"),d(V,"class","svelte-slqvyn"),d(ee,"type","submit"),ee.disabled=B=!s[5],d(ee,"class","svelte-slqvyn"),d(N,"class","buttons svelte-slqvyn"),d(n,"class","column-ui svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(J,F){w(J,e,F),f(e,t),f(e,l),f(e,n),f(n,r),f(n,a),f(n,i),f(n,o),f(n,c),f(n,u),f(n,p),f(p,m),m.checked=s[4],f(p,h),f(p,v),f(p,b),f(p,g),f(p,k),f(p,y),y.checked=s[5],f(p,E),f(p,P),f(n,R),f(n,M),f(M,T),f(n,U),f(n,N),f(N,V),f(N,ne),f(N,ee),f(ee,ce),H||(K=[x(m,"change",s[19]),x(y,"change",s[20]),x(V,"click",ge(s[21])),x(n,"submit",ge(s[22]))],H=!0)},p(J,F){F&16&&(m.checked=J[4]),F&32&&(y.checked=J[5]),F&8&&G(T,J[3]),F&32&&B!==(B=!J[5])&&(ee.disabled=B)},i:j,o:j,d(J){J&&$(e),H=!1,se(K)}}}function ai(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v,b,g,k,y,E,P,R,M,T,U;return{c(){e=_("div"),t=_("h1"),t.textContent="Login to Meower",l=S(),n=_("form"),r=_("input"),a=S(),i=_("br"),o=S(),c=_("input"),u=S(),p=_("p"),m=_("input"),h=S(),v=_("label"),v.textContent="Save this login",b=S(),g=_("span"),k=z(s[3]),y=S(),E=_("div"),P=_("button"),P.textContent="Go back",R=S(),M=_("button"),M.textContent="Log in",d(r,"type","text"),d(r,"placeholder","Username"),d(r,"maxlength","20"),d(r,"class","svelte-slqvyn"),d(i,"class","svelte-slqvyn"),d(c,"type","password"),d(c,"placeholder","Password"),d(c,"maxlength","64"),d(c,"class","svelte-slqvyn"),d(m,"id","remember-me"),d(m,"type","checkbox"),d(m,"class","svelte-slqvyn"),d(v,"for","remember-me"),d(v,"class","svelte-slqvyn"),d(p,"class","checkboxes svelte-slqvyn"),d(g,"class","login-status svelte-slqvyn"),d(P,"type","button"),d(P,"class","svelte-slqvyn"),d(M,"type","submit"),d(M,"class","svelte-slqvyn"),d(E,"class","buttons svelte-slqvyn"),d(n,"class","column-ui svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(N,V){w(N,e,V),f(e,t),f(e,l),f(e,n),f(n,r),f(n,a),f(n,i),f(n,o),f(n,c),f(n,u),f(n,p),f(p,m),m.checked=s[4],f(p,h),f(p,v),f(n,b),f(n,g),f(g,k),f(n,y),f(n,E),f(E,P),f(E,R),f(E,M),T||(U=[x(m,"change",s[16]),x(P,"click",ge(s[17])),x(n,"submit",ge(s[18]))],T=!0)},p(N,V){V&16&&(m.checked=N[4]),V&8&&G(k,N[3])},i:j,o:j,d(N){N&&$(e),T=!1,se(U)}}}function ci(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v,b,g,k,y=localStorage.getItem("meower_savedusername"),E,P,R,M,T,U,N,V,ne,ee,ce,B,H=y&&di(s);return{c(){e=_("div"),t=_("div"),l=_("div"),n=_("img"),a=S(),i=_("br"),o=_("br"),c=S(),u=_("button"),u.textContent="Log in",p=S(),m=_("br"),h=S(),v=_("button"),v.textContent="Create an account",b=S(),g=_("br"),k=S(),H&&H.c(),E=S(),P=_("button"),P.textContent="Skip",R=S(),M=_("p"),M.textContent="(Several features will be unavailable while not logged in.)",T=S(),U=_("div"),N=_("p"),N.textContent="Meower Svelte v1.4.1",V=S(),ne=_("img"),d(n,"alt","Meower"),ve(n.src,r=el)||d(n,"src",r),d(n,"class","logo-img svelte-slqvyn"),d(n,"height","70"),d(i,"class","svelte-slqvyn"),d(o,"class","svelte-slqvyn"),d(l,"class","svelte-slqvyn"),d(u,"class","svelte-slqvyn"),d(m,"class","svelte-slqvyn"),d(v,"class","svelte-slqvyn"),d(g,"class","svelte-slqvyn"),d(P,"class","svelte-slqvyn"),d(M,"class","small svelte-slqvyn"),d(N,"class","small svelte-slqvyn"),ve(ne.src,ee=Kn)||d(ne,"src",ee),d(ne,"alt",""),d(ne,"height","64"),d(ne,"class","svelte-slqvyn"),d(U,"class","svelte-slqvyn"),d(t,"class","column-ui svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(K,J){w(K,e,J),f(e,t),f(t,l),f(l,n),f(l,a),f(l,i),f(l,o),f(t,c),f(t,u),f(t,p),f(t,m),f(t,h),f(t,v),f(t,b),f(t,g),f(t,k),H&&H.m(t,null),f(t,E),f(t,P),f(t,R),f(t,M),f(t,T),f(t,U),f(U,N),f(U,V),f(U,ne),ce||(B=[x(u,"click",s[12]),x(v,"click",s[13]),x(P,"click",s[15])],ce=!0)},p(K,J){y&&H.p(K,J)},i:j,o:j,d(K){K&&$(e),H&&H.d(),ce=!1,se(B)}}}function ui(s){let e;return{c(){e=_("div"),e.textContent="Reconnecting...",d(e,"class","fullcenter svelte-slqvyn")},m(t,l){w(t,e,l)},p:j,i:j,o:j,d(t){t&&$(e)}}}function fi(s){let e,t,l,n,r,a,i,o,c,u;return{c(){e=_("div"),t=_("div"),l=_("div"),n=_("img"),a=S(),i=_("div"),o=z(s[3]),d(n,"alt","Meower"),ve(n.src,r=el)||d(n,"src",r),d(n,"class","logo-img svelte-slqvyn"),d(n,"height","40"),d(l,"class","logo top svelte-slqvyn"),d(i,"class","connecting svelte-slqvyn"),d(e,"class","fullcenter svelte-slqvyn")},m(p,m){w(p,e,m),f(e,t),f(t,l),f(l,n),s[10](n),s[11](l),f(t,a),f(t,i),f(i,o),u=!0},p(p,m){(!u||m&8)&&G(o,p[3])},i(p){u||(c&&c.end(1),u=!0)},o(p){c=Dn(e,Yn,{duration:300}),u=!1},d(p){p&&$(e),s[10](null),s[11](null),p&&c&&c.end()}}}function di(s){let e,t,l,n,r,a;return{c(){e=_("button"),e.textContent=`Use saved login (${localStorage.getItem("meower_savedusername")})`,t=S(),l=_("p"),n=z(s[3]),d(e,"class","svelte-slqvyn"),d(l,"class","small svelte-slqvyn")},m(i,o){w(i,e,o),w(i,t,o),w(i,l,o),f(l,n),r||(a=x(e,"click",s[14]),r=!0)},p(i,o){o&8&&G(n,i[3])},d(i){i&&$(e),i&&$(t),i&&$(l),r=!1,a()}}}function pi(s){let e,t,l,n,r;const a=[fi,ui,ci,ai,ii,oi,ri,si],i=[];function o(c,u){return c[8]==="logo"?0:c[8]==="reconnect"?1:c[8]==="welcome"?2:c[8]==="login"?3:c[8]==="join"?4:c[8]==="blank"?5:c[8]==="go"?6:7}return t=o(s),l=i[t]=a[t](s),{c(){e=_("div"),l.c(),d(e,"class","setup white svelte-slqvyn")},m(c,u){w(c,e,u),i[t].m(e,null),s[24](e),r=!0},p(c,[u]){let p=t;t=o(c),t===p?i[t].p(c,u):(te(),q(i[p],1,1,()=>{i[p]=null}),le(),l=i[t],l?l.p(c,u):(l=i[t]=a[t](c),l.c()),C(l,1),l.m(e,null))},i(c){r||(C(l),n&&n.end(1),r=!0)},o(c){q(l),n=Dn(e,Yn,{duration:300}),r=!1},d(c){c&&$(e),i[t].d(),s[24](null),c&&n&&n.end()}}}function mi(s,e,t){let l,n,r;A(s,D,H=>t(6,l=H)),A(s,ue,H=>t(7,n=H)),A(s,_e,H=>t(8,r=H));const a=W;window.clm=ws;let i,o,c,u="";async function p(){await Bt(),Bn(),await new Promise(H=>a.once("connected",H))}let m=!1,h=!1;Ft(()=>{_e.subscribe(async H=>{!o||(o.classList.remove("white"),H==="logo"?(Bt(),t(3,u=""),await we(),o.classList.add("white"),t(2,c.height=0,c),i.classList.remove("top"),await He(600),t(2,c.height=80,c),await He(300),o.classList.remove("white"),t(2,c.height=40,c),i.classList.add("top"),await He(700),t(3,u="Connecting..."),await p(),localStorage.getItem("meower_savedusername")&&localStorage.getItem("meower_savedpassword")?b(localStorage.getItem("meower_savedusername"),localStorage.getItem("meower_savedpassword"),!0):await v()):H==="reconnect"&&(t(3,u=""),await p(),await He(100),_e.set("welcome")))})});async function v(){localStorage.clear(),re.set(Xt()),t(3,u=""),_e.set("blank"),await He(600),_e.set("welcome")}function b(H,K,J=!1){try{t(3,u="Logging in..."),ie({cmd:"direct",val:{cmd:"authpswd",val:{username:H,pswd:K}}}).then(async F=>{try{const xe=await ie({cmd:"direct",val:{cmd:"get_profile",val:F.payload.username}});re.update(Re=>Object.assign(Re,{...xe.payload,name:F.payload.username})),Je.set({username:F.payload.username,token:F.payload.token}),rl(),(m||localStorage.getItem("meower_savedusername")===H)&&(localStorage.setItem("meower_savedusername",H),localStorage.setItem("meower_savedpassword",F.payload.token)),Le.set("main")}catch(xe){localStorage.clear(),console.error("Unexpected "+xe+" error getting user data!"),a.disconnect(1e3,"Failed to load userdata")}}).catch(F=>{if(J)return v();switch(F){case"E:103 | ID not found":t(3,u="Invalid username!");break;case"I:011 | Invalid Password":t(3,u="Invalid password!");break;case"E:018 | Account Banned":Y(ue,n="banned",n),Y(D,l=!0,l),t(3,u="");break;case"E:019 | Illegal characters detected":t(3,u="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(3,u="Too many requests! Please try again later.");break;default:t(3,u=`Unexpected ${F} error!`)}})}catch(F){if(J)return v();console.error(F),t(3,u="Error logging in: "+F)}}function g(H){De[H?"unshift":"push"](()=>{c=H,t(2,c)})}function k(H){De[H?"unshift":"push"](()=>{i=H,t(0,i)})}const y=()=>_e.set("login"),E=()=>_e.set("join"),P=()=>{t(4,m=!0),b(localStorage.getItem("meower_savedusername"),localStorage.getItem("meower_savedpassword"))},R=()=>{t(3,u=""),_e.set("blank"),Le.set("main")};function M(){m=this.checked,t(4,m)}const T=()=>(_e.set("welcome"),t(3,u=""),!1),U=H=>H.target[0].value&&H.target[1].value?(b(H.target[0].value,H.target[1].value),!1):(t(3,u="You must specify a username and a password to login!"),!1);function N(){m=this.checked,t(4,m)}function V(){h=this.checked,t(5,h)}const ne=()=>(_e.set("welcome"),t(3,u=""),!1),ee=H=>{const K=H.target[0].value,J=H.target[1].value;if(!(K&&J))return t(3,u="You must specify a username and a password to create an account!"),!1;t(3,u="Creating account..."),ie({cmd:"direct",val:{cmd:"gen_account",val:{username:K,pswd:J}},listener:"join"}).then(async F=>{if(F.mode==="auth"&&F.payload.username===K){t(3,u="Getting user data...");const xe=await ie({cmd:"direct",val:{cmd:"get_profile",val:F.payload.username}});re.update(Re=>Object.assign(Re,{...xe.payload,name:F.payload.username})),Je.set({username:F.payload.username,token:F.payload.token}),t(3,u=""),m&&(localStorage.setItem("meower_savedusername",K),localStorage.setItem("meower_savedpassword",F.payload.token)),rl(),_e.set("go"),await He(1e3),Le.set("main")}else t(3,u="Unexpected error logging in!")}).catch(F=>{switch(F){case"I:015 | Account exists":t(3,u="That username already exists!");break;case"I:011 | Invalid Password":t(3,u="Invalid password!");break;case"E:119 | IP Blocked":Y(ue,n="ipBanned",n),Y(D,l=!0,l),t(3,u="");break;case"E:019 | Illegal characters detected":t(3,u="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(3,u="Too many requests! Please try again later.");break;default:t(3,u=`Unexpected ${F} error!`)}})},ce=()=>_e.set("logo");function B(H){De[H?"unshift":"push"](()=>{o=H,t(1,o)})}return[i,o,c,u,m,h,l,n,r,b,g,k,y,E,P,R,M,T,U,N,V,ne,ee,ce,B]}class _i extends Z{constructor(e){super(),X(this,e,mi,pi,Q,{})}}function gi(s){let e;return{c(){e=_("h2"),e.textContent="Login to Meower",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function hi(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v,b,g,k,y,E,P,R,M,T=s[1]&&wn(s);return{c(){e=_("form"),T&&T.c(),t=S(),l=_("input"),n=_("br"),r=_("br"),a=S(),i=_("input"),o=_("br"),c=S(),u=_("p"),p=_("input"),m=S(),h=_("label"),h.textContent="Remember me",v=S(),b=_("br"),g=S(),k=_("div"),y=_("a"),y.textContent="Join Meower",E=S(),P=_("button"),P.textContent="Login",d(l,"type","text"),d(l,"class","modal-input white"),d(l,"placeholder","Username"),d(l,"maxlength","20"),l.value=s[2],l.autofocus=!0,d(i,"type","password"),d(i,"class","modal-input white"),d(i,"placeholder","Password"),d(i,"maxlength","64"),i.value=s[3],d(p,"id","remember-me"),d(p,"type","checkbox"),d(p,"class","svelte-hkhckx"),d(h,"for","remember-me"),d(h,"class","svelte-hkhckx"),d(u,"class","checkboxes svelte-hkhckx"),d(y,"href","/"),d(P,"type","submit"),d(k,"class","modal-buttons")},m(U,N){w(U,e,N),T&&T.m(e,null),f(e,t),f(e,l),f(e,n),f(e,r),f(e,a),f(e,i),f(e,o),f(e,c),f(e,u),f(u,p),p.checked=s[4],f(u,m),f(u,h),f(e,v),f(e,b),f(e,g),f(e,k),f(k,y),f(k,E),f(k,P),l.focus(),R||(M=[x(p,"change",s[7]),x(y,"click",ge(s[8])),x(e,"submit",ge(s[9]))],R=!0)},p(U,N){U[1]?T?T.p(U,N):(T=wn(U),T.c(),T.m(e,t)):T&&(T.d(1),T=null),N&4&&l.value!==U[2]&&(l.value=U[2]),N&8&&i.value!==U[3]&&(i.value=U[3]),N&16&&(p.checked=U[4])},i:j,o:j,d(U){U&&$(e),T&&T.d(),R=!1,se(M)}}}function vi(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-hkhckx")},m(n,r){w(n,e,r),I(t,e,null),l=!0},p:j,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&$(e),L(t)}}}function wn(s){let e,t,l;return{c(){e=_("span"),t=z(s[1]),l=_("br"),d(e,"class","login-status svelte-hkhckx")},m(n,r){w(n,e,r),f(e,t),w(n,l,r)},p(n,r){r&2&&G(t,n[1])},d(n){n&&$(e),n&&$(l)}}}function bi(s){let e,t,l,n;const r=[vi,hi],a=[];function i(o,c){return o[0]?0:1}return t=i(s),l=a[t]=r[t](s),{c(){e=_("div"),l.c(),d(e,"slot","default")},m(o,c){w(o,e,c),a[t].m(e,null),n=!0},p(o,c){let u=t;t=i(o),t===u?a[t].p(o,c):(te(),q(a[u],1,1,()=>{a[u]=null}),le(),l=a[t],l?l.p(o,c):(l=a[t]=r[t](o),l.c()),C(l,1),l.m(e,null))},i(o){n||(C(l),n=!0)},o(o){q(l),n=!1},d(o){o&&$(e),a[t].d()}}}function ki(s){let e,t;return e=new pe({props:{$$slots:{default:[bi],header:[gi]},$$scope:{ctx:s}}}),e.$on("close",s[10]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&2079&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function $i(s,e,t){let l;A(s,D,v=>t(5,l=v));let n=!1,r="",a="",i="",o=!1;function c(){try{t(0,n=!0),ie({cmd:"direct",val:{cmd:"authpswd",val:{username:a,pswd:i}}}).then(async v=>{try{const b=await ie({cmd:"direct",val:{cmd:"get_profile",val:v.payload.username}});D.set(!1),re.update(g=>Object.assign(g,{...b.payload,name:v.payload.username})),Je.set({username:v.payload.username,token:v.payload.token}),o&&(localStorage.setItem("meower_savedusername",a),localStorage.setItem("meower_savedpassword",v.payload.token))}catch(b){t(0,n=!1),t(1,r="Unexpected "+b+" error getting user data!")}}).catch(v=>{switch(t(0,n=!1),v){case"E:103 | ID not found":t(1,r="Invalid username!");break;case"I:011 | Invalid Password":t(1,r="Invalid password!");break;case"E:018 | Account Banned":ue.set("banned");break;case"E:107 | Packet too large":t(1,r="The username and/or password is too long!");break;case"E:019 | Illegal characters detected":t(1,r="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(1,r="Too many requests! Please try again later.");break;default:t(1,r=`Unexpected ${v} error!`)}})}catch(v){console.log(v),t(0,n=!1),t(1,r="Error logging in: "+v)}}function u(){o=this.checked,t(4,o)}return[n,r,a,i,o,l,c,u,()=>{ue.set("signup")},v=>v.target[0].value&&v.target[1].value?(t(2,a=v.target[0].value),t(3,i=v.target[1].value),c(),!1):(t(1,r="You must specify a username and a password to login!"),!1),()=>{Y(D,l=!1,l)}]}class wi extends Z{constructor(e){super(),X(this,e,$i,ki,Q,{})}}function yi(s){let e;return{c(){e=_("h2"),e.textContent="Join Meower",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function Ci(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v,b,g,k,y,E,P,R,M,T,U,N,V,ne,ee,ce,B,H=s[1]&&yn(s);return{c(){e=_("form"),H&&H.c(),t=S(),l=_("input"),n=_("br"),r=_("br"),a=S(),i=_("input"),o=_("br"),c=S(),u=_("p"),p=_("input"),m=S(),h=_("label"),h.textContent="Remember me",v=S(),b=_("br"),g=S(),k=_("input"),y=S(),E=_("label"),E.innerHTML='I agree to <a href="https://meower.org/legal" target="_blank">Meower&#39;s Terms of Service and Privacy Policy</a>',P=S(),R=_("br"),M=S(),T=_("div"),U=_("a"),U.textContent="Login to Meower",N=S(),V=_("button"),ne=z("Create Account"),d(l,"type","text"),d(l,"class","modal-input white"),d(l,"placeholder","Username"),d(l,"maxlength","20"),l.value=s[2],l.autofocus=!0,d(i,"type","password"),d(i,"class","modal-input white"),d(i,"placeholder","Password"),d(i,"maxlength","64"),i.value=s[3],d(p,"id","remember-me"),d(p,"type","checkbox"),d(p,"class","svelte-hkhckx"),d(h,"for","remember-me"),d(h,"class","svelte-hkhckx"),d(k,"id","accept-terms"),d(k,"type","checkbox"),d(k,"class","svelte-hkhckx"),d(E,"for","accept-terms"),d(E,"class","svelte-hkhckx"),d(u,"class","checkboxes svelte-hkhckx"),d(U,"href","/"),d(V,"type","submit"),V.disabled=ee=!s[4],d(T,"class","modal-buttons")},m(K,J){w(K,e,J),H&&H.m(e,null),f(e,t),f(e,l),f(e,n),f(e,r),f(e,a),f(e,i),f(e,o),f(e,c),f(e,u),f(u,p),p.checked=s[5],f(u,m),f(u,h),f(u,v),f(u,b),f(u,g),f(u,k),k.checked=s[4],f(u,y),f(u,E),f(e,P),f(e,R),f(e,M),f(e,T),f(T,U),f(T,N),f(T,V),f(V,ne),l.focus(),ce||(B=[x(p,"change",s[8]),x(k,"change",s[9]),x(U,"click",ge(s[10])),x(e,"submit",ge(s[11]))],ce=!0)},p(K,J){K[1]?H?H.p(K,J):(H=yn(K),H.c(),H.m(e,t)):H&&(H.d(1),H=null),J&4&&l.value!==K[2]&&(l.value=K[2]),J&8&&i.value!==K[3]&&(i.value=K[3]),J&32&&(p.checked=K[5]),J&16&&(k.checked=K[4]),J&16&&ee!==(ee=!K[4])&&(V.disabled=ee)},i:j,o:j,d(K){K&&$(e),H&&H.d(),ce=!1,se(B)}}}function Si(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","fullcenter svelte-hkhckx")},m(n,r){w(n,e,r),I(t,e,null),l=!0},p:j,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&$(e),L(t)}}}function yn(s){let e,t,l;return{c(){e=_("span"),t=z(s[1]),l=_("br"),d(e,"class","login-status svelte-hkhckx")},m(n,r){w(n,e,r),f(e,t),w(n,l,r)},p(n,r){r&2&&G(t,n[1])},d(n){n&&$(e),n&&$(l)}}}function qi(s){let e,t,l,n;const r=[Si,Ci],a=[];function i(o,c){return o[0]?0:1}return t=i(s),l=a[t]=r[t](s),{c(){e=_("div"),l.c(),d(e,"slot","default")},m(o,c){w(o,e,c),a[t].m(e,null),n=!0},p(o,c){let u=t;t=i(o),t===u?a[t].p(o,c):(te(),q(a[u],1,1,()=>{a[u]=null}),le(),l=a[t],l?l.p(o,c):(l=a[t]=r[t](o),l.c()),C(l,1),l.m(e,null))},i(o){n||(C(l),n=!0)},o(o){q(l),n=!1},d(o){o&&$(e),a[t].d()}}}function ji(s){let e,t;return e=new pe({props:{$$slots:{default:[qi],header:[yi]},$$scope:{ctx:s}}}),e.$on("close",s[12]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&16447&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Pi(s,e,t){let l,n;A(s,ue,k=>t(13,l=k)),A(s,D,k=>t(6,n=k));let r=!1,a="",i="",o="",c=!1,u=!1;function p(){try{t(0,r=!0),ie({cmd:"direct",val:{cmd:"gen_account",val:{username:i,pswd:o}},listener:"join"}).then(async k=>{if(k.mode==="auth"&&k.payload.username===i){t(1,a="Getting user data...");const y=await ie({cmd:"direct",val:{cmd:"get_profile",val:k.payload.username}});D.set(!1),re.update(E=>Object.assign(E,{...y.payload,name:k.payload.username})),Je.set({username:k.payload.username,token:k.payload.token}),t(1,a=""),u&&(localStorage.setItem("meower_savedusername",i),localStorage.setItem("meower_savedpassword",k.payload.token)),fe.set("blank"),we().then(()=>fe.set("home"))}else t(1,a="Unexpected error logging in!")}).catch(k=>{switch(t(0,r=!1),k){case"I:015 | Account exists":t(1,a="That username already exists!");break;case"I:011 | Invalid Password":t(1,a="Invalid password!");break;case"E:119 | IP Blocked":Y(ue,l="ipBanned",l);break;case"E:019 | Illegal characters detected":t(1,a="Usernames must not have spaces or other special characters!");break;case"E:106 | Too many requests":t(1,a="Too many requests! Please try again later.");break;default:t(1,a=`Unexpected ${k} error!`)}})}catch(k){console.log(k),t(0,r=!1),t(1,a="Error logging in: "+k)}}function m(){u=this.checked,t(5,u)}function h(){c=this.checked,t(4,c)}return[r,a,i,o,c,u,n,p,m,h,()=>{ue.set("login")},k=>k.target[0].value&&k.target[1].value?(t(2,i=k.target[0].value),t(3,o=k.target[1].value),p(),!1):(t(1,a="You must specify a username and a password to create an account!"),!1),()=>{Y(D,n=!1,n)}]}class zi extends Z{constructor(e){super(),X(this,e,Pi,ji,Q,{})}}function Ei(s){let e;return{c(){e=_("h2"),e.textContent="Account Banned",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function Mi(s){let e,t,l,n,r,a,i,o,c,u,p;return{c(){e=_("div"),t=_("p"),t.innerHTML=`Your account has been banned by the Meower moderation team because it was used to violate Meower&#39;s Terms of Service.
            <br/><br/>
            If you would like to discuss this ban, please email <a href="mailto:support@meower.org" target="_blank">support@meower.org</a>.`,l=S(),n=_("br"),r=S(),a=_("div"),i=_("a"),i.textContent="Terms of Service",o=S(),c=_("button"),c.textContent="Close",d(i,"href","https://meower.org/legal"),d(i,"target","_blank"),d(a,"class","modal-buttons"),d(e,"slot","default")},m(m,h){w(m,e,h),f(e,t),f(e,l),f(e,n),f(e,r),f(e,a),f(a,i),f(a,o),f(a,c),u||(p=x(c,"click",s[1]),u=!0)},p:j,d(m){m&&$(e),u=!1,p()}}}function Ii(s){let e,t;return e=new pe({props:{$$slots:{default:[Mi],header:[Ei]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&9&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Li(s,e,t){let l;return A(s,D,a=>t(0,l=a)),[l,()=>{Y(D,l=!1,l)},()=>{Y(D,l=!1,l)}]}class Oi extends Z{constructor(e){super(),X(this,e,Li,Ii,Q,{})}}function Ti(s){let e;return{c(){e=_("h2"),e.textContent="IP Blocked",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function xi(s){let e,t,l,n,r,a,i,o,c,u,p;return{c(){e=_("div"),t=_("p"),t.innerHTML=`Your IP address has been blocked from creating new accounts because it was used to violate Meower&#39;s Terms of Service.
            <br/><br/>
            If you would like to discuss this block, please email <a href="mailto:support@meower.org" target="_blank">support@meower.org</a>.`,l=S(),n=_("br"),r=S(),a=_("div"),i=_("a"),i.textContent="Terms of Service",o=S(),c=_("button"),c.textContent="Close",d(i,"href","https://meower.org/legal"),d(i,"target","_blank"),d(a,"class","modal-buttons"),d(e,"slot","default")},m(m,h){w(m,e,h),f(e,t),f(e,l),f(e,n),f(e,r),f(e,a),f(a,i),f(a,o),f(a,c),u||(p=x(c,"click",s[1]),u=!0)},p:j,d(m){m&&$(e),u=!1,p()}}}function Ri(s){let e,t;return e=new pe({props:{$$slots:{default:[xi],header:[Ti]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&9&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Ni(s,e,t){let l;return A(s,D,a=>t(0,l=a)),[l,()=>{Y(D,l=!1,l)},()=>{Y(D,l=!1,l)}]}class Ai extends Z{constructor(e){super(),X(this,e,Ni,Ri,Q,{})}}function Ui(s){let e;return{c(){e=_("h2"),e.textContent="Delete Post",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function Di(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v;return n=new lt({props:{post:s[1],buttons:!1}}),{c(){e=_("div"),t=_("p"),t.textContent="Are you sure you would like to delete this post?",l=S(),O(n.$$.fragment),r=S(),a=_("br"),i=S(),o=_("div"),c=_("button"),c.textContent="Cancel",u=S(),p=_("button"),p.textContent="Delete",p.autofocus=!0,d(o,"class","modal-buttons"),d(e,"slot","default")},m(b,g){w(b,e,g),f(e,t),f(e,l),I(n,e,null),f(e,r),f(e,a),f(e,i),f(e,o),f(o,c),f(o,u),f(o,p),m=!0,p.focus(),h||(v=[x(c,"click",s[2]),x(p,"click",s[3])],h=!0)},p(b,g){const k={};g&2&&(k.post=b[1]),n.$set(k)},i(b){m||(C(n.$$.fragment,b),m=!0)},o(b){q(n.$$.fragment,b),m=!1},d(b){b&&$(e),L(n),h=!1,se(v)}}}function Bi(s){let e,t;return e=new pe({props:{$$slots:{default:[Di],header:[Ui]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&35&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Hi(s,e,t){let l,n;return A(s,D,o=>t(0,l=o)),A(s,Pt,o=>t(1,n=o)),[l,n,()=>{Y(D,l=!1,l)},()=>{ie({cmd:"direct",val:{cmd:"delete_post",val:n.post_id}}),Y(D,l=!1,l)},()=>{Y(D,l=!1,l)}]}class Wi extends Z{constructor(e){super(),X(this,e,Hi,Bi,Q,{})}}function Yi(s){let e;return{c(){e=_("h2"),e.textContent="Report Post",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function Gi(s){let e,t,l,n,r,a,i,o;return{c(){e=_("p"),e.textContent="Successfully reported post! A member of the Meower moderation team will review it shortly.",t=S(),l=_("br"),n=S(),r=_("div"),a=_("button"),a.textContent="Close",d(r,"class","modal-buttons")},m(c,u){w(c,e,u),w(c,t,u),w(c,l,u),w(c,n,u),w(c,r,u),f(r,a),i||(o=x(a,"click",s[5]),i=!0)},p:j,i:j,o:j,d(c){c&&$(e),c&&$(t),c&&$(l),c&&$(n),c&&$(r),i=!1,o()}}}function Ki(s){let e,t,l,n,r,a,i,o,c,u,p,m,h;return l=new lt({props:{post:s[2],buttons:!1}}),{c(){e=_("p"),e.innerHTML=`Are you sure you would like to report this post?
                <br/><br/>
                Please make sure you&#39;re only reporting stuff that is against the Meower <a href="https://meower.org/legal" target="_blank">Terms of Service</a>.`,t=S(),O(l.$$.fragment),n=S(),r=_("br"),a=S(),i=_("div"),o=_("button"),o.textContent="Cancel",c=S(),u=_("button"),u.textContent="Report",d(i,"class","modal-buttons")},m(v,b){w(v,e,b),w(v,t,b),I(l,v,b),w(v,n,b),w(v,r,b),w(v,a,b),w(v,i,b),f(i,o),f(i,c),f(i,u),p=!0,m||(h=[x(o,"click",s[3]),x(u,"click",s[4])],m=!0)},p(v,b){const g={};b&4&&(g.post=v[2]),l.$set(g)},i(v){p||(C(l.$$.fragment,v),p=!0)},o(v){q(l.$$.fragment,v),p=!1},d(v){v&&$(e),v&&$(t),L(l,v),v&&$(n),v&&$(r),v&&$(a),v&&$(i),m=!1,se(h)}}}function Ji(s){let e,t,l,n;const r=[Ki,Gi],a=[];function i(o,c){return o[0]===0?0:o[0]===1?1:-1}return~(t=i(s))&&(l=a[t]=r[t](s)),{c(){e=_("div"),l&&l.c(),d(e,"slot","default")},m(o,c){w(o,e,c),~t&&a[t].m(e,null),n=!0},p(o,c){let u=t;t=i(o),t===u?~t&&a[t].p(o,c):(l&&(te(),q(a[u],1,1,()=>{a[u]=null}),le()),~t?(l=a[t],l?l.p(o,c):(l=a[t]=r[t](o),l.c()),C(l,1),l.m(e,null)):l=null)},i(o){n||(C(l),n=!0)},o(o){q(l),n=!1},d(o){o&&$(e),~t&&a[t].d()}}}function Fi(s){let e,t;return e=new pe({props:{$$slots:{default:[Ji],header:[Yi]},$$scope:{ctx:s}}}),e.$on("close",s[6]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&135&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Qi(s,e,t){let l,n;A(s,D,u=>t(1,l=u)),A(s,Pt,u=>t(2,n=u));let r=0;return[r,l,n,()=>{Y(D,l=!1,l)},()=>{ie({cmd:"direct",val:{cmd:"report",val:{type:0,id:n.post_id}}}),t(0,r=1)},()=>{Y(D,l=!1,l)},()=>{Y(D,l=!1,l)}]}class Vi extends Z{constructor(e){super(),X(this,e,Qi,Fi,Q,{})}}function Xi(s){let e;return{c(){e=_("h2"),e.textContent="Report User",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function Zi(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v,b;return{c(){e=_("div"),t=_("span"),l=z("Are you sure you want to report "),n=z(s[1]),r=z("?"),a=S(),i=_("br"),o=_("br"),c=S(),u=_("div"),p=_("button"),p.textContent="Cancel",m=S(),h=_("button"),h.textContent="Report",d(u,"class","modal-buttons"),d(e,"slot","default")},m(g,k){w(g,e,k),f(e,t),f(t,l),f(t,n),f(t,r),f(e,a),f(e,i),f(e,o),f(e,c),f(e,u),f(u,p),f(u,m),f(u,h),v||(b=[x(p,"click",s[2]),x(h,"click",s[3])],v=!0)},p(g,k){k&2&&G(n,g[1])},d(g){g&&$(e),v=!1,se(b)}}}function ea(s){let e,t;return e=new pe({props:{$$slots:{default:[Zi],header:[Xi]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&35&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function ta(s,e,t){let l,n;return A(s,D,o=>t(0,l=o)),A(s,Ke,o=>t(1,n=o)),[l,n,()=>{Y(D,l=!1,l)},()=>{ie({cmd:"direct",val:{cmd:"report",val:{type:1,id:n}}}),Y(D,l=!1,l)},()=>{Y(D,l=!1,l)}]}class la extends Z{constructor(e){super(),X(this,e,ta,ea,Q,{})}}function na(s){let e,t,l;return{c(){e=_("h2"),t=z(s[1]),l=z("'s Profile"),d(e,"slot","header")},m(n,r){w(n,e,r),f(e,t),f(e,l)},p(n,r){r&2&&G(t,n[1])},d(n){n&&$(e)}}}function sa(s){let e,t,l,n,r,a;return e=new oe({props:{$$slots:{default:[ra]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment),t=S(),l=_("button"),l.textContent="Close",d(l,"class","long svelte-w8vhr2")},m(i,o){I(e,i,o),w(i,t,o),w(i,l,o),n=!0,r||(a=x(l,"click",s[9]),r=!0)},p(i,o){const c={};o&8194&&(c.$$scope={dirty:o,ctx:i}),e.$set(c)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){q(e.$$.fragment,i),n=!1},d(i){L(e,i),i&&$(t),i&&$(l),r=!1,a()}}}function ra(s){let e,t,l,n=s[12]+"",r;return{c(){e=z(`Error loading user profile.\r
				`),t=_("pre"),l=_("code"),r=z(n)},m(a,i){w(a,e,i),w(a,t,i),f(t,l),f(l,r)},p(a,i){i&2&&n!==(n=a[12]+"")&&G(r,n)},d(a){a&&$(e),a&&$(t)}}}function oa(s){let e,t,l,n,r,a,i,o,c;e=new oe({props:{$$slots:{default:[ia]},$$scope:{ctx:s}}});let u=s[5]==s[3].name&&s[1]!=s[3].name&&Cn(s);return{c(){O(e.$$.fragment),t=S(),l=_("button"),l.textContent="View full profile",n=S(),u&&u.c(),r=S(),a=_("button"),a.textContent="Close",d(l,"class","long svelte-w8vhr2"),d(a,"class","long svelte-w8vhr2")},m(p,m){I(e,p,m),w(p,t,m),w(p,l,m),w(p,n,m),u&&u.m(p,m),w(p,r,m),w(p,a,m),i=!0,o||(c=[x(l,"click",s[6]),x(a,"click",s[8])],o=!0)},p(p,m){const h={};m&8206&&(h.$$scope={dirty:m,ctx:p}),e.$set(h),p[5]==p[3].name&&p[1]!=p[3].name?u?u.p(p,m):(u=Cn(p),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i(p){i||(C(e.$$.fragment,p),i=!0)},o(p){q(e.$$.fragment,p),i=!1},d(p){L(e,p),p&&$(t),p&&$(l),p&&$(n),u&&u.d(p),p&&$(r),p&&$(a),o=!1,se(c)}}}function ia(s){let e,t,l,n,r,a,i,o,c=s[2].includes(s[1])?"Online":"Offline",u,p,m,h=(Ht[s[11].lvl]||"Unknown")+"",v,b;return t=new tt({props:{online:s[2].includes(s[1]),icon:s[1]===s[3].name?s[3].pfp_data:s[11].pfp_data,alt:s[1]+"'s profile picture",size:1.4}}),{c(){e=_("div"),O(t.$$.fragment),l=S(),n=_("div"),r=_("h1"),a=z(s[1]),i=S(),o=_("div"),u=z(c),p=S(),m=_("div"),v=z(h),d(r,"class","profile-username svelte-w8vhr2"),d(o,"class","profile-active svelte-w8vhr2"),d(m,"class","profile-role svelte-w8vhr2"),d(n,"class","profile-header-info svelte-w8vhr2"),d(e,"class","profile-header svelte-w8vhr2")},m(g,k){w(g,e,k),I(t,e,null),f(e,l),f(e,n),f(n,r),f(r,a),f(n,i),f(n,o),f(o,u),f(n,p),f(n,m),f(m,v),b=!0},p(g,k){const y={};k&6&&(y.online=g[2].includes(g[1])),k&10&&(y.icon=g[1]===g[3].name?g[3].pfp_data:g[11].pfp_data),k&2&&(y.alt=g[1]+"'s profile picture"),t.$set(y),(!b||k&2)&&G(a,g[1]),(!b||k&6)&&c!==(c=g[2].includes(g[1])?"Online":"Offline")&&G(u,c),(!b||k&2)&&h!==(h=(Ht[g[11].lvl]||"Unknown")+"")&&G(v,h)},i(g){b||(C(t.$$.fragment,g),b=!0)},o(g){q(t.$$.fragment,g),b=!1},d(g){g&&$(e),L(t)}}}function Cn(s){let e,t,l;return{c(){e=_("button"),e.textContent="Remove from chat",d(e,"class","long svelte-w8vhr2")},m(n,r){w(n,e,r),t||(l=x(e,"click",s[7]),t=!0)},p:j,d(n){n&&$(e),t=!1,l()}}}function aa(s){let e,t,l;return t=new be({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","center svelte-w8vhr2")},m(n,r){w(n,e,r),I(t,e,null),l=!0},p:j,i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&$(e),L(t)}}}function ca(s){let e,t,l,n={ctx:s,current:null,token:null,hasCatch:!0,pending:aa,then:oa,catch:sa,value:11,error:12,blocks:[,,,]};return Ye(t=zt(s[1]),n),{c(){e=_("div"),n.block.c(),d(e,"slot","default")},m(r,a){w(r,e,a),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,l=!0},p(r,a){s=r,n.ctx=s,a&2&&t!==(t=zt(s[1]))&&Ye(t,n)||et(n,s,a)},i(r){l||(C(n.block),l=!0)},o(r){for(let a=0;a<3;a+=1){const i=n.blocks[a];q(i)}l=!1},d(r){r&&$(e),n.block.d(),n.token=null,n=null}}}function ua(s){let e,t;return e=new pe({props:{$$slots:{default:[ca],header:[na]},$$scope:{ctx:s}}}),e.$on("close",s[10]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&8255&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function fa(s,e,t){let l,n,r,a,i,o;return A(s,D,v=>t(0,l=v)),A(s,Vt,v=>t(1,n=v)),A(s,Oe,v=>t(2,r=v)),A(s,re,v=>t(3,a=v)),A(s,$e,v=>t(4,i=v)),A(s,Dt,v=>t(5,o=v)),[l,n,r,a,i,o,()=>{Y(D,l=!1,l),ie({cmd:"direct",val:{cmd:"set_chat_state",val:{state:0,chatid:i}}}),Ke.set(n),fe.set("profile")},()=>{ue.set("removeMember")},()=>{Y(D,l=!1,l)},()=>{Y(D,l=!1,l)},()=>{Y(D,l=!1,l)}]}class da extends Z{constructor(e){super(),X(this,e,fa,ua,Q,{})}}function pa(s){let e;return{c(){e=_("h2"),e.textContent="Add Member",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function ma(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v,b,g,k;return{c(){e=_("div"),t=_("form"),l=_("label"),l.innerHTML="<b>Username</b>",n=S(),r=_("input"),a=S(),i=_("br"),o=_("br"),c=S(),u=_("div"),p=_("button"),p.textContent="Cancel",m=S(),h=_("button"),v=z("Add member"),d(l,"for","userinput"),d(r,"type","text"),d(r,"class","long white svelte-1ntawbt"),d(r,"placeholder","Username"),d(r,"id","userinput"),d(r,"name","userinput"),d(r,"autocomplete","false"),d(r,"maxlength","360"),d(p,"type","button"),d(h,"type","submit"),h.disabled=b=!s[0],d(u,"class","modal-buttons"),d(e,"slot","default")},m(y,E){w(y,e,E),f(e,t),f(t,l),f(t,n),f(t,r),Xe(r,s[0]),f(t,a),f(t,i),f(t,o),f(t,c),f(t,u),f(u,p),f(u,m),f(u,h),f(h,v),g||(k=[x(r,"input",s[4]),x(p,"click",ge(s[5])),x(t,"submit",ge(s[6]))],g=!0)},p(y,E){E&1&&r.value!==y[0]&&Xe(r,y[0]),E&1&&b!==(b=!y[0])&&(h.disabled=b)},d(y){y&&$(e),g=!1,se(k)}}}function _a(s){let e,t;return e=new pe({props:{$$slots:{default:[ma],header:[pa]},$$scope:{ctx:s}}}),e.$on("close",s[7]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&271&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function ga(s,e,t){let l,n,r;A(s,D,p=>t(1,l=p)),A(s,$e,p=>t(2,n=p)),A(s,Ge,p=>t(3,r=p));let a;function i(){a=this.value,t(0,a)}return[a,l,n,r,i,()=>{Y(D,l=!1,l)},p=>{ie({cmd:"direct",val:{cmd:"add_to_chat",val:{chatid:n,username:p.target[0].value}}}),r.push(a),Ge.set(r),Y(D,l=!1,l)},()=>{Y(D,l=!1,l)}]}class ha extends Z{constructor(e){super(),X(this,e,ga,_a,Q,{})}}function va(s){let e;return{c(){e=_("h2"),e.textContent="Remove Member",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function ba(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v,b,g,k;return{c(){e=_("div"),t=_("span"),l=z("Are you sure you want to remove "),n=z(s[0]),r=z(" from "),a=z(s[2]),i=z("?"),o=S(),c=_("br"),u=_("br"),p=S(),m=_("div"),h=_("button"),h.textContent="Cancel",v=S(),b=_("button"),b.textContent="Remove",d(m,"class","modal-buttons"),d(e,"slot","default")},m(y,E){w(y,e,E),f(e,t),f(t,l),f(t,n),f(t,r),f(t,a),f(t,i),f(e,o),f(e,c),f(e,u),f(e,p),f(e,m),f(m,h),f(m,v),f(m,b),g||(k=[x(h,"click",s[6]),x(b,"click",s[7])],g=!0)},p(y,E){E&1&&G(n,y[0]),E&4&&G(a,y[2])},d(y){y&&$(e),g=!1,se(k)}}}function ka(s){let e,t;return e=new pe({props:{$$slots:{default:[ba],header:[va]},$$scope:{ctx:s}}}),e.$on("close",s[8]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&543&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function $a(s,e,t){let l,n,r,a,i;A(s,Vt,m=>t(0,l=m)),A(s,D,m=>t(1,n=m)),A(s,We,m=>t(2,r=m)),A(s,$e,m=>t(3,a=m)),A(s,Ge,m=>t(4,i=m));function o(m){return m!==l}return[l,n,r,a,i,o,()=>{Y(D,n=!1,n)},()=>{ie({cmd:"direct",val:{cmd:"remove_from_chat",val:{chatid:a,username:l}}}),Ge.set(i.filter(o)),Y(D,n=!1,n)},()=>{Y(D,n=!1,n)}]}class wa extends Z{constructor(e){super(),X(this,e,$a,ka,Q,{})}}function ya(s){let e;return{c(){e=_("h2"),e.textContent="Create Chat",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function Sn(s){let e,t,l;return{c(){e=_("span"),t=z(s[0]),l=_("br"),d(e,"class","login-status")},m(n,r){w(n,e,r),f(e,t),w(n,l,r)},p(n,r){r&1&&G(t,n[0])},d(n){n&&$(e),n&&$(l)}}}function Ca(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v=s[0]&&Sn(s);return{c(){e=_("div"),t=_("form"),v&&v.c(),l=S(),n=_("input"),r=_("br"),a=_("br"),i=S(),o=_("div"),c=_("button"),c.textContent="Cancel",u=S(),p=_("button"),p.textContent="Create",d(n,"type","text"),d(n,"class","modal-input white"),d(n,"placeholder","Nickname"),d(n,"maxlength","20"),n.autofocus=!0,d(c,"type","button"),d(p,"type","submit"),d(o,"class","modal-buttons"),d(e,"slot","default")},m(b,g){w(b,e,g),f(e,t),v&&v.m(t,null),f(t,l),f(t,n),f(t,r),f(t,a),f(t,i),f(t,o),f(o,c),f(o,u),f(o,p),n.focus(),m||(h=[x(c,"click",s[3]),x(t,"submit",ge(s[4]))],m=!0)},p(b,g){b[0]?v?v.p(b,g):(v=Sn(b),v.c(),v.m(t,l)):v&&(v.d(1),v=null)},d(b){b&&$(e),v&&v.d(),m=!1,se(h)}}}function Sa(s){let e,t;return e=new pe({props:{$$slots:{default:[Ca],header:[ya]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&67&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function qa(s,e,t){let l;A(s,D,c=>t(1,l=c));let n="";function r(c){try{t(0,n="Creating chat..."),ie({cmd:"direct",val:{cmd:"create_chat",val:c}}).then(()=>{D.set(!1),fe.set("blank"),we().then(()=>fe.set("chatlist"))}).catch(u=>{t(0,n=`Unexpected ${u} error!`)})}catch(u){console.error(u),t(0,n="Error logging in: "+u)}}return[n,l,r,()=>{Y(D,l=!1,l)},c=>c.target[0].value?(r(c.target[0].value),!1):(t(0,n="You must specify a nickname to create the chat!"),!1),()=>{Y(D,l=!1,l)}]}class ja extends Z{constructor(e){super(),X(this,e,qa,Sa,Q,{})}}function Pa(s){let e;return{c(){e=_("h2"),e.textContent="Set Quote",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function za(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v,b,g;return{c(){e=_("div"),t=_("form"),l=_("span"),l.textContent="Your quote is a small piece of text that will be displayed publically on your profile.",n=_("br"),r=_("br"),a=S(),i=_("input"),o=_("br"),c=_("br"),u=S(),p=_("div"),m=_("button"),m.textContent="Cancel",h=S(),v=_("button"),v.textContent="Set Quote",d(i,"type","text"),d(i,"class","modal-input white"),d(i,"placeholder","Write something..."),d(i,"maxlength","360"),d(m,"type","button"),d(v,"type","submit"),d(p,"class","modal-buttons"),d(e,"slot","default")},m(k,y){w(k,e,y),f(e,t),f(t,l),f(t,n),f(t,r),f(t,a),f(t,i),Xe(i,s[1].quote),f(t,o),f(t,c),f(t,u),f(t,p),f(p,m),f(p,h),f(p,v),b||(g=[x(i,"input",s[2]),x(m,"click",s[3]),x(t,"submit",ge(s[4]))],b=!0)},p(k,y){y&2&&i.value!==k[1].quote&&Xe(i,k[1].quote)},d(k){k&&$(e),b=!1,se(g)}}}function Ea(s){let e,t;return e=new pe({props:{$$slots:{default:[za],header:[Pa]},$$scope:{ctx:s}}}),e.$on("close",s[5]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&67&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Ma(s,e,t){let l,n;A(s,D,c=>t(0,l=c)),A(s,re,c=>t(1,n=c));function r(){n.quote=this.value,re.set(n)}return[l,n,r,()=>{Y(D,l=!1,l)},async c=>{D.set(!1),await Ue(),fe.set("blank"),we().then(()=>fe.set("profile"))},()=>{Y(D,l=!1,l)}]}class Ia extends Z{constructor(e){super(),X(this,e,Ma,Ea,Q,{})}}function La(s){let e;return{c(){e=_("h2"),e.textContent="Change Password",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function qn(s){let e,t;return{c(){e=_("label"),t=z(s[0]),d(e,"for","old-password-input"),Ae(e,"color","red")},m(l,n){w(l,e,n),f(e,t)},p(l,n){n&1&&G(t,l[0])},d(l){l&&$(e)}}}function Oa(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v,b,g,k,y,E,P,R,M=s[0]&&qn(s);return{c(){e=_("div"),t=_("form"),M&&M.c(),l=S(),n=_("input"),r=_("br"),a=_("br"),i=S(),o=_("input"),c=_("br"),u=_("br"),p=S(),m=_("input"),h=_("br"),v=_("br"),b=S(),g=_("div"),k=_("button"),k.textContent="Cancel",y=S(),E=_("button"),E.textContent="Change Password",d(n,"id","old-password-input"),d(n,"type","password"),d(n,"class","modal-input white"),d(n,"placeholder","Current Password"),d(n,"maxlength","64"),d(o,"id","new-password-input"),d(o,"type","password"),d(o,"class","modal-input white"),d(o,"placeholder","New Password"),d(o,"maxlength","64"),d(m,"type","password"),d(m,"class","modal-input white"),d(m,"placeholder","Confirm New Password"),d(m,"maxlength","64"),d(k,"type","button"),d(E,"type","submit"),d(g,"class","modal-buttons"),d(e,"slot","default")},m(T,U){w(T,e,U),f(e,t),M&&M.m(t,null),f(t,l),f(t,n),f(t,r),f(t,a),f(t,i),f(t,o),f(t,c),f(t,u),f(t,p),f(t,m),f(t,h),f(t,v),f(t,b),f(t,g),f(g,k),f(g,y),f(g,E),P||(R=[x(k,"click",s[2]),x(t,"submit",ge(s[3]))],P=!0)},p(T,U){T[0]?M?M.p(T,U):(M=qn(T),M.c(),M.m(t,l)):M&&(M.d(1),M=null)},d(T){T&&$(e),M&&M.d(),P=!1,se(R)}}}function Ta(s){let e,t;return e=new pe({props:{$$slots:{default:[Oa],header:[La]},$$scope:{ctx:s}}}),e.$on("close",s[4]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&35&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function xa(s,e,t){let l;A(s,D,o=>t(1,l=o));let n="";return[n,l,()=>{Y(D,l=!1,l)},async o=>{if(!o.target[0].value)return t(0,n="You must specify your current password"),!1;if(!o.target[1].value)return t(0,n="You must specify a new password to change your password"),!1;if(o.target[1].value!==o.target[2].value)return t(0,n="New passwords do not match"),!1;o.target[4].disabled=!0,await ie({cmd:"direct",val:{cmd:"change_pswd",val:o.target[1].value}}),Y(D,l=!1,l),localStorage.clear(),Le.set("setup"),await we(),_e.set("reconnect")},()=>{Y(D,l=!1,l)}]}class Ra extends Z{constructor(e){super(),X(this,e,xa,Ta,Q,{})}}function Na(s){let e;return{c(){e=_("h2"),e.textContent="Delete Account",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function Aa(s){let e,t,l,n,r,a,i,o,c,u,p,m,h,v,b,g,k,y,E,P,R;return{c(){e=_("div"),t=_("form"),l=_("span"),l.textContent="Deleting your account will erase all data from our database, this action is irreversible! Are you absolutely sure you would like to permanently delete your account?",n=_("br"),r=_("br"),a=S(),i=_("span"),i.textContent="Please confirm your username below to be able to delete your account:",o=_("br"),c=S(),u=_("input"),p=_("br"),m=_("br"),h=S(),v=_("div"),b=_("button"),b.textContent="Cancel",g=S(),k=_("button"),y=z("Delete Account"),Ae(l,"color","red"),d(u,"type","text"),d(u,"class","modal-input white"),d(u,"placeholder","Username"),d(u,"maxlength","20"),d(b,"type","button"),d(k,"type","submit"),k.disabled=E=s[0]!==s[2].name,d(v,"class","modal-buttons"),d(e,"slot","default")},m(M,T){w(M,e,T),f(e,t),f(t,l),f(t,n),f(t,r),f(t,a),f(t,i),f(t,o),f(t,c),f(t,u),Xe(u,s[0]),f(t,p),f(t,m),f(t,h),f(t,v),f(v,b),f(v,g),f(v,k),f(k,y),P||(R=[x(u,"input",s[3]),x(b,"click",s[4]),x(t,"submit",ge(s[5]))],P=!0)},p(M,T){T&1&&u.value!==M[0]&&Xe(u,M[0]),T&5&&E!==(E=M[0]!==M[2].name)&&(k.disabled=E)},d(M){M&&$(e),P=!1,se(R)}}}function Ua(s){let e,t;return e=new pe({props:{$$slots:{default:[Aa],header:[Na]},$$scope:{ctx:s}}}),e.$on("close",s[6]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&135&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Da(s,e,t){let l,n;A(s,D,u=>t(1,l=u)),A(s,re,u=>t(2,n=u));let r="";function a(){r=this.value,t(0,r)}return[r,l,n,a,()=>{Y(D,l=!1,l)},async u=>{await ie({cmd:"direct",val:{cmd:"del_account",val:""}}),Y(D,l=!1,l),localStorage.clear(),Le.set("setup"),await we(),_e.set("reconnect")},()=>{Y(D,l=!1,l)}]}class Ba extends Z{constructor(e){super(),X(this,e,Da,Ua,Q,{})}}function Ha(s){let e;return{c(){e=_("h2"),e.textContent="Logout",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function Wa(s){let e,t,l,n,r,a,i,o,c,u,p,m;return{c(){e=_("div"),t=_("span"),t.textContent="Are you sure you would like to logout?",l=S(),n=_("br"),r=_("br"),a=S(),i=_("div"),o=_("button"),o.textContent="Cancel",c=S(),u=_("button"),u.textContent="Logout",d(i,"class","modal-buttons"),d(e,"slot","default")},m(h,v){w(h,e,v),f(e,t),f(e,l),f(e,n),f(e,r),f(e,a),f(e,i),f(i,o),f(i,c),f(i,u),p||(m=[x(o,"click",s[1]),x(u,"click",s[2])],p=!0)},p:j,d(h){h&&$(e),p=!1,se(m)}}}function Ya(s){let e,t;return e=new pe({props:{$$slots:{default:[Wa],header:[Ha]},$$scope:{ctx:s}}}),e.$on("close",s[3]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&17&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Ga(s,e,t){let l;return A(s,D,i=>t(0,l=i)),[l,()=>{Y(D,l=!1,l)},async()=>{Y(D,l=!1,l),ot.set("Intentional disconnect"),Me.set(!1),Le.set("setup"),await we(),_e.set("reconnect")},()=>{Y(D,l=!1,l)}]}class Ka extends Z{constructor(e){super(),X(this,e,Ga,Ya,Q,{})}}function Ja(s){let e;return{c(){e=_("h2"),e.textContent="Unknown Modal",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function Fa(s){let e,t,l="Unknown Modal, Requested Modal name '"+s[1]+"'",n,r,a;return{c(){e=_("div"),t=_("p"),n=z(l),r=S(),a=_("small"),a.textContent="PS to devlopers, Your code may be working!",d(a,"class","smol svelte-mytpja"),d(e,"slot","default")},m(i,o){w(i,e,o),f(e,t),f(t,n),f(e,r),f(e,a)},p(i,o){o&2&&l!==(l="Unknown Modal, Requested Modal name '"+i[1]+"'")&&G(n,l)},d(i){i&&$(e)}}}function Qa(s){let e,t;return e=new pe({props:{$$slots:{default:[Fa],header:[Ja]},$$scope:{ctx:s}}}),e.$on("close",s[2]),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,[n]){const r={};n&10&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Va(s,e,t){let l,n;return A(s,D,a=>t(0,l=a)),A(s,ue,a=>t(1,n=a)),[l,n,()=>{Y(D,l=!1,l)}]}class Xa extends Z{constructor(e){super(),X(this,e,Va,Qa,Q,{})}}function Za(s){let e;return{c(){e=_("div"),d(e,"class","spinner check svelte-o9ugf6")},m(t,l){w(t,e,l)},p:j,i:j,o:j,d(t){t&&$(e)}}}class ec extends Z{constructor(e){super(),X(this,e,null,Za,Q,{})}}const tc=ae(0),lc=ae(0),Jn=ae(!1);function Fn(){tc.set(window.innerWidth),lc.set(window.innerHeight),Jn.set(window.innerWidth<window.innerHeight||window.innerWidth<500||window.innerHeight<400)}Fn();window.addEventListener("resize",Fn);function jn(s){let e,t;return e=new pe({props:{$$slots:{default:[fc],header:[nc]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p(l,n){const r={};n&1032&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function nc(s){let e;return{c(){e=_("h2"),e.textContent="Me-owch.",d(e,"slot","header")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function sc(s){let e,t,l,n;return{c(){e=z(`We ran into an error trying to connect to the server.\r
						`),t=_("pre"),l=_("code"),n=z(s[3])},m(r,a){w(r,e,a),w(r,t,a),f(t,l),f(l,n)},p(r,a){a&8&&G(n,r[3])},d(r){r&&$(e),r&&$(t)}}}function rc(s){let e;return{c(){e=z("You have been kicked by a moderator.")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function oc(s){let e;return{c(){e=z("You have been banned by a moderator.")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function ic(s){let e,t,l,n;return{c(){e=z(`There has been a hiccup! Looks like you logged into Meower from another device.\r
						`),t=_("br"),l=_("br"),n=z(`\r
						Please check any devices currently logged into Meower and try again.`)},m(r,a){w(r,e,a),w(r,t,a),w(r,l,a),w(r,n,a)},p:j,d(r){r&&$(e),r&&$(t),r&&$(l),r&&$(n)}}}function ac(s){let e,t=W.ip+"",l,n;return{c(){e=z("The server has blocked your IP address ("),l=z(t),n=z(").")},m(r,a){w(r,e,a),w(r,l,a),w(r,n,a)},p:j,d(r){r&&$(e),r&&$(l),r&&$(n)}}}function cc(s){let e;return{c(){e=z("An unexpected error occurred while trying to load your userdata! Check console for more information.")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function uc(s){let e;return{c(){e=z("Something went wrong and the connection to Meower was lost.")},m(t,l){w(t,e,l)},p:j,d(t){t&&$(e)}}}function fc(s){let e,t,l,n,r,a;function i(u,p){return u[3]===""?uc:u[3]==="Failed to load userdata"?cc:u[3]==="E:119 | IP Blocked"?ac:u[3]=="E:110 | ID conflict"?ic:u[3]=="E:018 | Account Banned"?oc:u[3]=="E:020 | Kicked"?rc:sc}let o=i(s),c=o(s);return{c(){e=_("div"),t=_("p"),c.c(),l=S(),n=_("button"),n.textContent="Reconnect",d(e,"slot","default")},m(u,p){w(u,e,p),f(e,t),c.m(t,null),f(e,l),f(e,n),r||(a=x(n,"click",s[8]),r=!0)},p(u,p){o===(o=i(u))&&c?c.p(u,p):(c.d(1),c=o(u),c&&(c.c(),c.m(t,null)))},d(u){u&&$(e),c.d(),r=!1,a()}}}function Pn(s){let e,t,l,n;const r=[jc,qc,Sc,Cc,yc,wc,$c,kc,bc,vc,hc,gc,_c,mc,pc,dc],a=[];function i(o,c){return o[5]==="login"?0:o[5]==="signup"?1:o[5]==="banned"?2:o[5]==="ipBanned"?3:o[5]==="deletePost"?4:o[5]==="reportPost"?5:o[5]==="reportUser"?6:o[5]==="createChat"?7:o[5]==="setQuote"?8:o[5]==="changePassword"?9:o[5]==="deleteAccount"?10:o[5]==="GC_Member"?11:o[5]==="AddMember"?12:o[5]==="removeMember"?13:o[5]==="logout"?14:15}return e=i(s),t=a[e]=r[e](s),{c(){t.c(),l=Ce()},m(o,c){a[e].m(o,c),w(o,l,c),n=!0},p(o,c){let u=e;e=i(o),e!==u&&(te(),q(a[u],1,1,()=>{a[u]=null}),le(),t=a[e],t||(t=a[e]=r[e](o),t.c()),C(t,1),t.m(l.parentNode,l))},i(o){n||(C(t),n=!0)},o(o){q(t),n=!1},d(o){a[e].d(o),o&&$(l)}}}function dc(s){let e,t;return e=new Xa({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function pc(s){let e,t;return e=new Ka({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function mc(s){let e,t;return e=new wa({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function _c(s){let e,t;return e=new ha({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function gc(s){let e,t;return e=new da({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function hc(s){let e,t;return e=new Ba({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function vc(s){let e,t;return e=new Ra({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function bc(s){let e,t;return e=new Ia({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function kc(s){let e,t;return e=new ja({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function $c(s){let e,t;return e=new la({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function wc(s){let e,t;return e=new Vi({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function yc(s){let e,t;return e=new Wi({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Cc(s){let e,t;return e=new Ai({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Sc(s){let e,t;return e=new Oi({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function qc(s){let e,t;return e=new zi({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function jc(s){let e,t;return e=new wi({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Pc(s){let e,t;return e=new ni({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function zc(s){let e,t,l;return{c(){e=_("button"),e.textContent="Idk if this is needed but click me",d(e,"class","fullcenter svelte-kve33a")},m(n,r){w(n,e,r),t||(l=x(e,"click",s[9]),t=!0)},p:j,i:j,o:j,d(n){n&&$(e),t=!1,l()}}}function Ec(s){let e,t;return e=new _i({}),{c(){O(e.$$.fragment)},m(l,n){I(e,l,n),t=!0},p:j,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function zn(s){let e,t,l;return t=new ec({}),{c(){e=_("div"),O(t.$$.fragment),d(e,"class","spinner-container svelte-kve33a")},m(n,r){w(n,e,r),I(t,e,null),l=!0},i(n){l||(C(t.$$.fragment,n),l=!0)},o(n){q(t.$$.fragment,n),l=!1},d(n){n&&$(e),L(t)}}}function Mc(s){let e,t,l,n,r,a,i,o=s[2]&&jn(s),c=s[4]&&Pn(s);const u=[Ec,zc,Pc],p=[];function m(v,b){return v[6]==="setup"?0:v[6]==="start_s"?1:2}n=m(s),r=p[n]=u[n](s);let h=s[7]&&zn();return{c(){e=_("main"),o&&o.c(),t=S(),c&&c.c(),l=S(),r.c(),a=S(),h&&h.c(),d(e,"id","main"),d(e,"class","svelte-kve33a"),me(e,"theme-orange",s[0].theme==="orange"),me(e,"theme-blue",s[0].theme==="blue"),me(e,"mode-light",s[0].mode!==!1),me(e,"mode-dark",s[0].mode===!1),me(e,"layout-old",s[1]||s[0].layout==="old"),me(e,"layout-mobile",s[1])},m(v,b){w(v,e,b),o&&o.m(e,null),f(e,t),c&&c.m(e,null),f(e,l),p[n].m(e,null),f(e,a),h&&h.m(e,null),i=!0},p(v,[b]){v[2]?o?(o.p(v,b),b&4&&C(o,1)):(o=jn(v),o.c(),C(o,1),o.m(e,t)):o&&(te(),q(o,1,1,()=>{o=null}),le()),v[4]?c?(c.p(v,b),b&16&&C(c,1)):(c=Pn(v),c.c(),C(c,1),c.m(e,l)):c&&(te(),q(c,1,1,()=>{c=null}),le());let g=n;n=m(v),n===g?p[n].p(v,b):(te(),q(p[g],1,1,()=>{p[g]=null}),le(),r=p[n],r?r.p(v,b):(r=p[n]=u[n](v),r.c()),C(r,1),r.m(e,a)),v[7]?h?b&128&&C(h,1):(h=zn(),h.c(),C(h,1),h.m(e,null)):h&&(te(),q(h,1,1,()=>{h=null}),le()),b&1&&me(e,"theme-orange",v[0].theme==="orange"),b&1&&me(e,"theme-blue",v[0].theme==="blue"),b&1&&me(e,"mode-light",v[0].mode!==!1),b&1&&me(e,"mode-dark",v[0].mode===!1),b&3&&me(e,"layout-old",v[1]||v[0].layout==="old"),b&2&&me(e,"layout-mobile",v[1])},i(v){i||(C(o),C(c),C(r),C(h),i=!0)},o(v){q(o),q(c),q(r),q(h),i=!1},d(v){v&&$(e),o&&o.d(),c&&c.d(),p[n].d(),h&&h.d()}}}function Ic(s,e,t){let l,n,r,a,i,o,c,u;return A(s,re,h=>t(0,l=h)),A(s,Jn,h=>t(1,n=h)),A(s,Me,h=>t(2,r=h)),A(s,ot,h=>t(3,a=h)),A(s,D,h=>t(4,i=h)),A(s,ue,h=>t(5,o=h)),A(s,Le,h=>t(6,c=h)),A(s,Be,h=>t(7,u=h)),[l,n,r,a,i,o,c,u,async()=>{Le.set("setup"),Me.set(!1),await we(),_e.set("reconnect")},()=>Le.set("setup")]}class Lc extends Z{constructor(e){super(),X(this,e,Ic,Mc,Q,{})}}try{navigator.serviceWorker&&navigator.serviceWorker.getRegistration().then(s=>{s&&s.unregister()})}catch(s){console.error(s)}new Lc({target:document.getElementById("app")});
